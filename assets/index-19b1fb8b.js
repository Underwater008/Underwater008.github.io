import"./styles-0e8c9e66.js";import{S as P,P as b,W as C,G as z,O as M,a as S}from"./GLTFLoader-d59c2c18.js";const w=localStorage.getItem("firstVisit")===null,h=new P,n=new b(75,window.innerWidth/window.innerHeight,.1,1e3),c=new C;c.setSize(window.innerWidth,window.innerHeight);c.setClearColor(0,0);document.body.appendChild(c.domElement);const W=new z,f=new M(n,c.domElement);f.enablePan=!1;let m=0,s;W.load("./3DModels/cozy_campfire_-_shape_key_animation/scene.gltf",e=>{s=e.scene,h.add(s),s.position.x=-5;const t=new S(13450048,2,50);s.add(t),s.traverse(i=>{i.isMesh&&i.material.emissiveMap&&(i.material.emissiveIntensity=200)}),x()},void 0,e=>{console.error(e)});n.position.x=30;n.position.y=60;n.position.z=80;n.position;function p(){requestAnimationFrame(p),f.update(),c.render(h,n),console.log(n.position)}p();function y(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}window.addEventListener("resize",y,!1);y();function u(e,t,i){s&&TweenMax.to(s.rotation,1,{x:e,y:t,z:i})}const H=document.getElementById("reset-btn"),_=document.getElementById("blogs-btn"),O=document.getElementById("homo-ludens");H.addEventListener("click",()=>{I(),u(0,0,0),TweenMax.to(n.position,1,{x:30,y:60,z:80})});_.addEventListener("click",()=>{window.open("./xiaoblogs.html","_self")});const g=document.getElementById("homo-ludens-info");O.addEventListener("click",()=>{if(g.style.opacity!="0"){TweenMax.to(n.position,2,{x:-7.6,y:2.58,z:2.37,ease:Power2.easeInOut}),u(0,4*Math.PI/4,0);return}I(),TweenMax.to(n.position,2,{x:-7.6,y:2.58,z:2.37,ease:Power2.easeInOut}),u(0,4*Math.PI/4,0),setTimeout(()=>{g.style.opacity="1"},1500)});function I(){g.style.opacity="0"}const j=document.getElementById("loading-screen"),k=document.getElementById("loading-text"),r=document.getElementById("job-title"),A=document.getElementById("progress"),d=["Gamer","a Programmer","a Technical Artist","a Homo Ludens","XIAO"];let v=1,l=0;w?G():r.innerText=d[d.length-1];function D(){document.querySelectorAll(".transfadein").forEach(t=>{t.style.opacity="1",t.style.transform="translateY(0)"})}function x(){m++,L(),m>=v&&(!w||l>=d.length)&&setTimeout(()=>{k.style.opacity="0",A.style.opacity="0",document.getElementById("content-container").style.opacity="1",j.style.zIndex="-1",D(),localStorage.setItem("firstVisit","false")},1e3)}function L(){const e=document.querySelector("#progress");parseInt(window.getComputedStyle(e).getPropertyValue("width"));const t=Math.round((m+l)/(v+(w?d.length:0))*100);e.style.width=t+"%"}function G(){let e=setInterval(()=>{l++,l>=d.length?(clearInterval(e),x()):(r.classList.add("fade-out"),setTimeout(()=>{r.textContent=d[l],r.classList.remove("fade-out"),r.classList.add("fade-in"),setTimeout(()=>{r.classList.remove("fade-in")},500),setTimeout(()=>{L()},1e3)},500))},1500)}const o=document.getElementById("drawing-canvas"),a=o.getContext("2d");let E=[];function B(){const e=document.createElement("canvas");e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0),o.width=window.innerWidth,o.height=window.innerHeight,a.drawImage(e,0,0)}B();window.addEventListener("resize",B);function T(e,t){a.beginPath(),a.arc(e,t,2,0,Math.PI*2),a.fill(),E.push({x:e,y:t})}function R(){for(const e of E)a.beginPath(),a.arc(e.x,e.y,2,0,Math.PI*2),a.fill()}o.addEventListener("mousemove",e=>{T(e.clientX,e.clientY)});o.addEventListener("touchmove",e=>{e.preventDefault();const t=e.touches[0].clientX-o.getBoundingClientRect().left,i=e.touches[0].clientY-o.getBoundingClientRect().top;T(t,i)});window.addEventListener("resize",()=>{R()});

import{S as M,P as b,W as z,G as C,O as S,a as W}from"./GLTFLoader-dddf2892.js";const w=localStorage.getItem("firstVisit")===null,h=new M,n=new b(75,window.innerWidth/window.innerHeight,.1,1e3),c=new z;c.setSize(window.innerWidth,window.innerHeight);c.setClearColor(0,0);document.body.appendChild(c.domElement);const H=new C,p=new S(n,c.domElement);p.enablePan=!1;let u=0,s;H.load("./3DModels/cozy_campfire_-_shape_key_animation/scene.gltf",e=>{s=e.scene,h.add(s),s.position.x=-5;const t=new W(13450048,2,50);s.add(t),s.traverse(i=>{i.isMesh&&i.material.emissiveMap&&(i.material.emissiveIntensity=200)}),E()},void 0,e=>{console.error(e)});n.position.x=30;n.position.y=60;n.position.z=80;n.position;function f(){requestAnimationFrame(f),p.update(),c.render(h,n),console.log(n.position)}f();function I(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}window.addEventListener("resize",I,!1);I();function m(e,t,i){s&&TweenMax.to(s.rotation,1,{x:e,y:t,z:i})}const O=document.getElementById("reset-btn"),_=document.getElementById("blogs-btn"),j=document.getElementById("homo-ludens");O.addEventListener("click",()=>{y(),m(0,0,0),TweenMax.to(n.position,1,{x:30,y:60,z:80})});_.addEventListener("click",()=>{y(),m(0,3*Math.PI/4,0),TweenMax.to(n.position,1,{x:0,y:0,z:5})});const g=document.getElementById("homo-ludens-info");j.addEventListener("click",()=>{if(g.style.opacity!="0"){TweenMax.to(n.position,2,{x:-7.6,y:2.58,z:2.37,ease:Power2.easeInOut}),m(0,4*Math.PI/4,0);return}y(),TweenMax.to(n.position,2,{x:-7.6,y:2.58,z:2.37,ease:Power2.easeInOut}),m(0,4*Math.PI/4,0),setTimeout(()=>{g.style.opacity="1"},1500)});function y(){g.style.opacity="0"}const k=document.getElementById("loading-screen"),A=document.getElementById("loading-text"),d=document.getElementById("job-title"),D=document.getElementById("progress"),r=["Gamer","a Programmer","a Technical Artist","a Homo Ludens","XIAO"];let v=1,l=0;w?G():d.innerText=r[r.length-1];function x(){document.querySelectorAll(".transfadein").forEach(t=>{t.style.opacity="1",t.style.transform="translateY(0)"})}function E(){u++,L(),u>=v&&(!w||l>=r.length)&&setTimeout(()=>{A.style.opacity="0",D.style.opacity="0",document.getElementById("content-container").style.opacity="1",k.style.zIndex="-1",x(),localStorage.setItem("firstVisit","false")},1e3)}function L(){const e=document.querySelector("#progress");parseInt(window.getComputedStyle(e).getPropertyValue("width"));const t=Math.round((u+l)/(v+(w?r.length:0))*100);e.style.width=t+"%"}function G(){let e=setInterval(()=>{l++,l>=r.length?(clearInterval(e),E()):(d.classList.add("fade-out"),setTimeout(()=>{d.textContent=r[l],d.classList.remove("fade-out"),d.classList.add("fade-in"),setTimeout(()=>{d.classList.remove("fade-in")},500),setTimeout(()=>{L()},1e3)},500))},1500)}const o=document.getElementById("drawing-canvas"),a=o.getContext("2d");let B=[];function T(){const e=document.createElement("canvas");e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0),o.width=window.innerWidth,o.height=window.innerHeight,a.drawImage(e,0,0)}T();window.addEventListener("resize",T);function P(e,t){a.beginPath(),a.arc(e,t,2,0,Math.PI*2),a.fill(),B.push({x:e,y:t})}function R(){for(const e of B)a.beginPath(),a.arc(e.x,e.y,2,0,Math.PI*2),a.fill()}o.addEventListener("mousemove",e=>{P(e.clientX,e.clientY)});o.addEventListener("touchmove",e=>{e.preventDefault();const t=e.touches[0].clientX-o.getBoundingClientRect().left,i=e.touches[0].clientY-o.getBoundingClientRect().top;P(t,i)});window.addEventListener("resize",()=>{R()});{const e=document.getElementById("loading-screen");e.style.display="none",document.getElementById("content-container").style.opacity="1",x()}

import"./modulepreload-polyfill-B5Qt9EMX.js";const N=[{id:"stellarune",title:"STELLARUNE",category:"GAME DESIGN",type:"game",desc:"A unique action strategy game where players use dice to cast magic spells while engaging in real-time, grid-based combat.",fullDesc:"Stellarune is a unique action strategy game where players use dice to cast magic spells while engaging in real-time, grid-based combat. Here, magic is a power bestowed from the stars and where the essence of a soul manifests in the form of dice. Players receive dice faces with magic spells inscribed on them from defeating foes and can use them to customize dice to suit their individual playstyle. Of these spells, they fall into unique classes that have certain class abilities and archetypes. Currently, available classes are Aether (Neutral), Ignist (Fire), and Tempest (Lightning).",meta:{role:"Project Manager, Game Designer, Lead Programmer, Technical Artist, Concept Artist","developed by":"Mergician Productions","team size":"Total: 15 (Core: Zhixuan Xiao, Harith Reef Liew, Eric Ni, Kirby Neo, May Li)",contribution:"Game Mechanics, Prototype, Visual Scripting, C++ Programming, Perforce Version Control, Project Management, Tools programming, PyQt GUI design, AWS Dedicated Multiplayer Server, 3D&2D animation, Rigging, Concept Art, GDC Exhibition, Funding, Pitch & Presentations",engine:"Unreal Engine 5",year:"2022-2023"},tags:["UE5","C++","Multiplayer"],connections:["dice-gen","vfx-system"]},{id:"cyber-cipher",title:"CYBER CIPHER",category:"GAME DESIGN",type:"game",desc:"Award-winning 2.5D action game about a computer bug navigating through firewalls.",fullDesc:"Award-winning 2.5D action game about a computer bug who must dodge hazards and security firewalls as they try to corrupt the User's programming files. Created for the 2023 Global Game Jam with the support of Coexist Gamelab.",meta:{award:"Global Game Jam 2023",role:"Game Designer, Programmer",year:"2023"},tags:["Unity","C#","GGJ"],connections:["high-noon"]},{id:"dice-gen",title:"DICE FACE GEN",category:"TECHNICAL ART",type:"tech",desc:"Python script for Maya converting 2D images into 3D dice face models.",fullDesc:"Python script interacting with Autodesk Maya to convert 2D images into 3D models with specific modifications. The script includes a GUI creation function with an interface designed in PyQt. A button in the GUI triggers the 3D model creation process using user-provided values.",meta:{tools:"Python, Maya, PyQt",purpose:"Stellarune Pipeline Tool",year:"2022"},tags:["Python","Maya","Pipeline"],connections:["stellarune","vfx-system"]},{id:"vfx-system",title:"VFX SYSTEM",category:"TECHNICAL ART",type:"tech",desc:"Dynamic Niagara particle system with user parameters for real-time control.",fullDesc:"Niagara System using User Parameters to control VFX transform and animation, accessible from any Actor Blueprint. The system is configured to adjust sprite size, orientation, and color. A unique aspect is the capacity to modify system parameters externally, allowing for dynamic particle spawn and transform changes.",meta:{engine:"Unreal Engine 5",type:"Niagara System",year:"2023"},tags:["UE5","Niagara","VFX"],connections:["stellarune","procedural"]},{id:"procedural",title:"RIG & PROCEDURAL ANIMATION",category:"TECHNICAL ART",type:"tech",desc:"Unity C# script for procedural animation using Inverse Kinematics.",fullDesc:"Procedural Animation made with Unity Animation Rigging package. Character rigged in Blender with a C# script for Procedural Animation in the Unity Engine. The script includes adjustable parameters for different movement styles including stepDistance, stepHeight, and stepSpeed. Utilizes Inverse Kinematics to ensure fluid limb movement. The rigging process involves creating a skeleton that accurately mirrors articulation, with custom curves and weight painting for realistic deformation.",meta:{tools:"C# script, Inverse Kinematics, Blender, Unity Engine",features:"IK, Animation Rigging, Procedural Animation, Raycast & Gizmos",year:"2023"},tags:["Unity","C#","IK","Rigging"],connections:["vfx-system","ocean"]},{id:"anim-state",title:"ANIMATION STATE MACHINE",category:"TECHNICAL ART",type:"tech",desc:"UE5 Animation Blueprint controlling dice model behavior with state transitions.",fullDesc:'Animation Blueprint system for controlling die model behavior using an integer variable "Face". If the value is between 1-6, the die rolls to that specific face. If 0 or 7+, the die maintains perpetual rolling animation. System starts from a conduit state and transitions to one of six states, each linked to a specific dice face.',meta:{engine:"Unreal Engine 5",purpose:"Stellarune Animation System",year:"2022"},tags:["UE5","Animation","Blueprint"],connections:["stellarune"]},{id:"fireworks",title:"FIREWORKS VFX",category:"TECHNICAL ART",type:"tech",desc:"Particle effect system for fireworks visualization.",fullDesc:"Unreal Engine 5 Niagara particle system designed specifically for fireworks visualization with realistic explosion patterns and particle behavior.",meta:{engine:"Unreal Engine 5",type:"Niagara System",year:"2023"},tags:["UE5","Niagara","VFX"],connections:["vfx-system"]},{id:"procgen-crystals",title:"PROCGEN CRYSTALS",category:"TECHNICAL ART",type:"tech",desc:"Procedurally generated crystal system.",fullDesc:"Procedural crystal generation system using Unreal Engine with dynamic geometry and material properties.",meta:{engine:"Unreal Engine",type:"Procedural Generation",year:"2023"},tags:["UE5","Procedural","3D"],connections:["vfx-system"]},{id:"text-converter",title:"TEXT-IMAGE CONVERTER",category:"TECHNICAL ART",type:"tech",desc:"Python tool for text and image processing.",fullDesc:"Converter tool for text/image processing built with Python, enabling seamless conversion between text and image formats.",meta:{tools:"Python",type:"Utility Tool",year:"2023"},tags:["Python","Tool","Utility"],connections:[]},{id:"ocean",title:"OCEAN",category:"CREATIVE",type:"creative",desc:"Blender 3D environment design exploring underwater themes.",fullDesc:"Blender 3D environment design exploring underwater themes and atmospheric lighting techniques. This piece explores the intersection of technical skill and artistic vision, using procedural shaders and particle systems.",meta:{medium:"Blender 3D",year:"2023"},tags:["Blender","3D","Environment"],connections:["procedural"]},{id:"untitled",title:"UNTITLED",category:"CREATIVE",type:"creative",desc:"Blender 3D artwork.",fullDesc:"An experimental 3D piece created in Blender exploring form and space.",meta:{medium:"Blender",year:"2023"},tags:["Blender","3D"],connections:[]},{id:"unattainable-dream",title:"UNATTAINABLE DREAM",category:"CREATIVE",type:"creative",desc:"Blender 3D artwork exploring dreams and aspirations.",fullDesc:"A contemplative 3D piece created in Blender that explores themes of unattainable dreams and aspirations.",meta:{medium:"Blender",year:"2023"},tags:["Blender","3D","Conceptual"],connections:[]},{id:"drifter",title:"DRIFTER",category:"CREATIVE",type:"creative",desc:"VR artwork created with Gravity Sketch and Quill.",fullDesc:"Virtual reality artwork created using Gravity Sketch and Quill VR, exploring spatial design and immersive art creation.",meta:{medium:"Gravity Sketch, Quill VR",year:"2021"},tags:["VR","3D","Immersive"],connections:[]},{id:"eternal-love",title:"ETERNAL LOVE",category:"CREATIVE",type:"creative",desc:"Mixed media artwork combining ink, origami paper, and Python.",fullDesc:"A unique mixed media piece that combines traditional materials (ink and origami paper) with computational art created using Python.",meta:{medium:"Ink, Origami Paper, Python",year:"2023"},tags:["Mixed Media","Python","Traditional"],connections:[]},{id:"sketch-210413",title:"SKETCH 210413",category:"CREATIVE",type:"creative",desc:"Web-based interactive sketch.",fullDesc:"An interactive web-based sketch created using HTML, CSS, and Javascript, exploring digital art and interaction design.",meta:{medium:"HTML, CSS, Javascript",year:"2023"},tags:["Web","Interactive","Code Art"],connections:[]},{id:"skull-red-cloth",title:"SKULL ON RED CLOTH",category:"CREATIVE",type:"creative",desc:"Traditional pastel artwork.",fullDesc:"A traditional art piece created with pastels on pastel paper, depicting a skull on red cloth.",meta:{medium:"Pastel, Pastel Paper",year:"2020"},tags:["Traditional","Pastel","Drawing"],connections:[]},{id:"high-noon",title:"HIGH NOON",category:"GAME DESIGN",type:"game",desc:"4-player competitive strategy board game with western duel mechanics.",fullDesc:"High Noon at Blackmeadow is a 4 player competitive strategy game designed to bring the western duel alive on a board. It incorporated an exhilarating experience challenging both the players' physical reflex and their strategic planning.",meta:{type:"Board Game",players:"4",year:"2022"},tags:["Board Game","Strategy"],connections:["cyber-cipher"]},{id:"godzilla",title:"GODZILLA SIMULATOR",category:"GAME DESIGN",type:"game",desc:"Search and rescue game where you relive memories of Godzilla attack survivors.",fullDesc:"Relive the memories of those who suffered during the Godzilla attack. Acting as a GEMA volunteer, search and rescue the damaged area and discover the hidden truth.",meta:{role:"Game Designer",type:"Simulation"},tags:["Unity","Simulation"],connections:[]},{id:"idyllia",title:"IDYLLIA",category:"GAME DESIGN",type:"game",desc:"A short downloadable puzzle game where your garden grows as you solve puzzles.",fullDesc:"Idyllia is a short downloadable puzzle game for Windows and macOS. The player solves tile-based puzzles, and for each puzzle solved, the garden grows larger and lusher. The garden, however, is greedy for life. Where will that greed take it?",meta:{platform:"Windows, macOS",type:"Puzzle Game"},tags:["Puzzle","Downloadable"],connections:[]},{id:"roomba-out",title:"ROOMBA OUT!",category:"GAME DESIGN",type:"game",desc:"Strategy game where you control a Shiba Inu to guide a Roomba out of the house.",fullDesc:'Roomba OUT! is a strategy game where the player needs to control the Shiba Inu to "guide" the Roomba out of the house, based on the fact that the idiot robot can only turn right when facing obstacles.',meta:{type:"Strategy Puzzle"},tags:["Strategy","Puzzle"],connections:[]},{id:"one-more-floor",title:"ONE MORE FLOOR",category:"GAME DESIGN",type:"game",desc:"Horror survival game in a desolate, dark, ravaged world.",fullDesc:"A desolate, dark, ravaged world. Overrun. Lost. These creatures are everywhere, lurking around every corner, every shadow, where light cannot find them. Play as a child stuck in this building, cornered by mysterious, terrifying creatures, as he must fight his way to survival and to freedom!",meta:{type:"Horror Survival"},tags:["Horror","Survival"],connections:[]},{id:"antiquity",title:"ANTIQUITY'S LOCUS",category:"GAME DESIGN",type:"game",desc:"Narrative game exploring LGBTQ+ themes during the AIDS crisis.",fullDesc:"Teresa had a few acquaintances in Mason City prior to the accident, but being an out lesbian during the aids crisis in a suburban town of only 30,000 people doesn't leave you with a particularly massive support network.",meta:{type:"Narrative Game"},tags:["Narrative","LGBTQ+"],connections:[]},{id:"free-fall",title:"FREE FALL 2",category:"GAME DESIGN",type:"game",desc:"A relaxation and freedom themed experience.",fullDesc:"Take a breath, relax, go for a walk, free fall... or do whatever makes you feel free and emancipate. Take care of yourselves out there, you are beautiful ðŸŒˆ",meta:{type:"Relaxation Experience"},tags:["Relaxation","Experience"],connections:[]},{id:"sayhelp",title:"SAYHELP",category:"GAME DESIGN",type:"game",desc:"Philosophical narrative game.",fullDesc:"In the center of the pine wood called Coilla Doraca there lived not long ago two Philosophers. They were wiser than anything else in the world except the Salmon who lies in the pool of Glyn Cagny into which the nuts of knowledge fall from the hazel bush on its bank.",meta:{type:"Narrative Game"},tags:["Narrative","Philosophy"],connections:[]},{id:"wheelchair-vr",title:"WHEELCHAIR SIMULATION VR",category:"VR PROJECT",type:"game",subtype:"project",desc:"Virtual reality wheelchair simulation experience.",fullDesc:"An immersive VR experience that simulates wheelchair navigation, designed to build empathy and understanding.",meta:{platform:"VR",type:"Simulation"},tags:["VR","Simulation","Accessibility"],connections:[]}],nt=document.querySelectorAll("#filters button"),Je=document.getElementById("detail-panel"),we=document.getElementById("content-particle-canvas"),Ue=we.getContext("2d"),Ce=document.getElementById("project-list");we.width=window.innerWidth;we.height=window.innerHeight;let U="game",ue="all",ie=null;function _e(){if(Ce.innerHTML="",U==="game"){const t=N.filter(n=>n.type==="game"&&!n.subtype),i=N.filter(n=>n.type==="game"&&n.subtype==="project");(ue==="all"||ue==="games")&&t.forEach((n,e)=>{const s=N.indexOf(n),a=document.createElement("div");a.className="project-list-item",a.dataset.index=s,a.dataset.type=n.type,a.innerHTML=`
                            <div class="title">${n.title}</div>
                            <div class="cat">${n.category}</div>
                        `,a.addEventListener("click",()=>je(s)),Ce.appendChild(a)}),(ue==="all"||ue==="projects")&&i.forEach((n,e)=>{const s=N.indexOf(n),a=document.createElement("div");a.className="project-list-item",a.dataset.index=s,a.dataset.type=n.type,a.innerHTML=`
                            <div class="title">${n.title}</div>
                            <div class="cat">${n.category}</div>
                        `,a.addEventListener("click",()=>je(s)),Ce.appendChild(a)})}else N.forEach((t,i)=>{if(U==="about"||t.type===U){const n=document.createElement("div");n.className="project-list-item",n.dataset.index=i,n.dataset.type=t.type,n.innerHTML=`
                            <div class="title">${t.title}</div>
                            <div class="cat">${t.category}</div>
                        `,n.addEventListener("click",()=>je(i)),Ce.appendChild(n)}})}nt.forEach(t=>{t.addEventListener("click",()=>{U=t.dataset.filter,nt.forEach(n=>n.classList.remove("active")),t.classList.add("active");const i=document.getElementById("works-subfilter");U==="game"?(i.style.display="flex",document.getElementById("sidebar-title").textContent="WORKS"):U==="tech"?(i.style.display="none",document.getElementById("sidebar-title").textContent="TECHNICAL"):U==="creative"?(i.style.display="none",document.getElementById("sidebar-title").textContent="CREATIVE"):(i.style.display="none",document.getElementById("sidebar-title").textContent="ABOUT"),_e()})});const it=document.querySelectorAll(".subfilter-btn");it.forEach(t=>{t.addEventListener("click",()=>{ue=t.dataset.subfilter,it.forEach(i=>{i.classList.remove("active"),i.style.opacity="0.5"}),t.classList.add("active"),t.style.opacity="1",_e()})});function lt(t){document.getElementById("detail-title").textContent=t.title,document.getElementById("detail-category").textContent=t.category,document.getElementById("detail-desc").textContent=t.fullDesc;const i=document.getElementById("detail-action");t.id==="stellarune"?i.innerHTML='<a href="stellarune.html" class="view-full-btn">VIEW FULL PROJECT â†’</a>':i.innerHTML="";const n=Object.entries(t.meta).map(([e,s])=>`<div class="meta-item"><strong>${e.toUpperCase()}</strong>${s}</div>`).join("");document.getElementById("detail-meta").innerHTML=n,Je.classList.add("active")}function ct(){Je.classList.remove("active"),ie=null}document.querySelector("#detail-panel .close").addEventListener("click",()=>{ct()});const We=[];function dt(){Ue.clearRect(0,0,we.width,we.height);for(let t=We.length-1;t>=0;t--){const i=We[t];if(i.x+=i.vx,i.y+=i.vy,i.life-=.02,i.life<=0){We.splice(t,1);continue}Ue.fillStyle=`rgba(0, 0, 0, ${i.life})`,Ue.fillRect(i.x,i.y,i.size,i.size)}requestAnimationFrame(dt)}dt();const I=document.getElementById("constellation-canvas"),M=I.getContext("2d"),ze=document.getElementById("main-container");let ae=0,de=0,he=0,Ne=0,Ge=0,Be=0,qe=1,ht=1,et=!1,Fe=0,$e=0,pe=null,Q=0;function Me(t,i,n){const h=Math.sin(t*.08+Q*.3)*Math.cos(i*.08+Q*.2),l=Math.sin(i*.15-Q*.25)*Math.cos(n*.15+Q*.15),r=Math.sin(n*.05+Q*.2)*Math.cos(t*.05-Q*.1);return(h+l+r)/3}function wt(t,i,n){const s=Me(t,i+.1,n),a=Me(t,i-.1,n),h=Me(t,i,n+.1),l=Me(t,i,n-.1),r=Me(t+.1,i,n),y=Me(t-.1,i,n);return{x:s-a-(r-y),y:h-l-(s-a),z:r-y-(h-l)}}I.width=ze.clientWidth;I.height=ze.clientHeight;const at=["~","-","_",".","Â·","Ë™"],gt=[],xt=Math.floor(I.width/12),vt=Math.floor(I.height/16);for(let t=0;t<vt;t++)for(let i=0;i<xt;i++){const n=i*12,e=t*16,s=Math.random();gt.push({x:n,y:e,baseX:n,baseY:e,vx:0,vy:0,char:at[Math.floor(Math.random()*at.length)],phase:Math.random()*Math.PI*2,depth:s,baseAlpha:.05+s*.15})}const se=300,ge=300,me=300,mt=50;function Ve(t){for(let i=t.length-1;i>0;i-=1){const n=Math.floor(Math.random()*(i+1));[t[i],t[n]]=[t[n],t[i]]}return t}const J=[],st=["stellarune","fireworks"];let ot=!1;const Re=[],Se=new Map;let rt=new Set,ft=new Set;const Et=N.filter(t=>t.type==="game"),Mt=N.filter(t=>t.type==="tech"),Ct=N.filter(t=>t.type==="creative"),bt=[...Et,...Mt,...Ct],De=bt.map(t=>({project:t,spawned:!1,gridX:null,gridY:null,gridZ:null}));function Ke(t,i,n,e){const s=i*se,a=n*ge,h=e*me,l=[],r=t.project.title,y=8,f=-(r.length*y)/2;for(let x=0;x<r.length;x++)l.push({char:r[x],offsetX:f+x*y,offsetY:0});const C={x:s,y:a,z:h,baseX:s,baseY:a,baseZ:h,vx:0,vy:0,vz:0,particles:l,project:t.project,isReal:!0,projectData:t,spawnAlpha:0,targetAlpha:1};J.push(C),t.spawned=!0,t.gridX=i,t.gridY=n,t.gridZ=e;const E=ye(i,n,e);return ce.delete(E),Se.set(E,t),C}function At(t){const i=J.findIndex(e=>e.projectData===t);if(i===-1)return;const[n]=J.splice(i,1);if(t.spawned=!1,t.gridX!==null){const e=ye(t.gridX,t.gridY,t.gridZ);Se.delete(e),ce.delete(e)}n&&(n.spawnAlpha=0),Re.includes(t)||Re.push(t)}function It(t,i,n){const e=t*se,s=i*ge,a=n*me;return ke(e,s,a)}function St(){const t=Math.floor((ae-ne)/se),i=Math.ceil((ae+ne)/se),n=Math.floor((de-ne)/ge),e=Math.ceil((de+ne)/ge);let s=Math.ceil((he+mt)/me);const a=Math.ceil((he+ne)/me);s>a&&(s=a),De.forEach(o=>{if(o.spawned){if(ie!==null&&N[ie]===o.project)return;(o.gridX<t||o.gridX>i||o.gridY<n||o.gridY>e||o.gridZ<s||o.gridZ>a)&&At(o)}});const h=[];for(let o=t;o<=i;o++)for(let p=n;p<=e;p++)for(let w=s;w<=a;w++){const T=It(o,p,w);if(!T)continue;const _=40;if(T.x<-_||T.x>I.width+_||T.y<-_||T.y>I.height+_)continue;const xe=ye(o,p,w);h.push({key:xe,gx:o,gy:p,gz:w,distance:T.z})}const l=[...h].sort((o,p)=>o.distance-p.distance),r=new Set(l.map(o=>o.key)),y=l.filter(o=>!rt.has(o.key)),f=y.filter(o=>o.gx===t||o.gx===i||o.gy===n||o.gy===e||o.gz===s||o.gz===a);if(ft=new Set(y.map(o=>o.key)),!ot){const o=Math.min(Math.max(5,Math.floor(l.length*.2)),Math.max(0,l.length-1)),p=Math.max(0,l.length-o),w=l.slice(0,p),_=(v=>{const P=new Map;v.forEach(G=>{const c=G.gz,d=Math.sqrt(G.gx*G.gx+G.gy*G.gy),u=Math.atan2(G.gy,G.gx);P.has(c)||P.set(c,[]),P.get(c).push({...G,radial:d,angle:u})});const R=Array.from(P.keys()).sort((G,c)=>G-c);R.forEach(G=>{P.get(G).sort((c,d)=>c.radial!==d.radial?c.radial-d.radial:c.angle-d.angle)});const ee=[];let re=!0;for(;re;){re=!1;for(const G of R){const c=P.get(G);!c||c.length===0||(ee.push(c.shift()),re=!0)}}return ee})(w),xe=st.map(v=>De.find(P=>P.project.id===v)).filter(v=>v&&!v.spawned),Te=De.filter(v=>!v.spawned&&!st.includes(v.project.id));let oe=0;const $=new Set,fe=[],be=v=>ye(v.gx,v.gy,v.gz),Oe=(v,P)=>{for(let R=-1;R<=1;R++)for(let ee=-1;ee<=1;ee++){if(ee===0&&R===0)continue;const re=ye(v.gx+ee,v.gy+R,v.gz);if(P.has(re))return!0}return!1},Ae=()=>{for(;oe<_.length;){const v=_[oe];oe+=1;const P=be(v);if(!$.has(P)){if(Oe(v,$)){fe.push(v);continue}return $.add(P),v}}for(;fe.length>0;){const v=fe.shift(),P=be(v);if(!$.has(P))return $.add(P),v}return null},Ie=v=>{v.forEach(P=>{if(P.spawned)return;const R=Ae();R&&(console.log("Initial spawn:",P.project.title,"at",R.gx,R.gy,R.gz),Ke(P,R.gx,R.gy,R.gz))})};console.log("Starting initial placement, priority pool:",xe.length,"other pool:",Te.length),Ie(xe),Ie(Te),ot=!0,console.log("Initial placement done, spawned projects:",J.length)}const C=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],E=Math.round(ae/se),x=f.filter(o=>!Se.has(o.key)),A=x.filter(o=>o.gz===a),W=x.filter(o=>o.gz!==a),S=A.filter(o=>o.gx===E),j=A.filter(o=>o.gx<E),H=A.filter(o=>o.gx>E),O=[];S.length&&O.push(S),j.length&&O.push(j),H.length&&O.push(H),Ve(O);const q=[];O.forEach(o=>{Ve(o),q.push(...o)});const F=Ve([...W]);q.push(...F);const Y=new Set,z=o=>{for(const[p,w]of C){const T=ye(o.gx+p,o.gy+w,o.gz);if(Se.has(T)||Y.has(T))return!0}return!1};q.forEach(o=>{if(Re.length===0||z(o))return;const p=Re.shift();Ke(p,o.gx,o.gy,o.gz),Y.add(o.key)}),rt=r}const ce=new Map,ne=1200;function ye(t,i,n){return`${t},${i},${n}`}function Tt(t,i,n){const e=t*se,s=i*ge,a=n*me;return{x:e,y:s,z:a,text:"",phase:Math.random()*Math.PI*2,changeTimer:0,isReal:!1}}function Pt(t){const i="!@#$%^&*()_+=-0987654321",n=Math.floor(Math.random()*8)+1;let e="";for(let s=0;s<n;s++)e+=i[Math.floor(Math.random()*i.length)];t.text=e}function Lt(){const t=Math.floor((ae-ne)/se),i=Math.ceil((ae+ne)/se),n=Math.floor((de-ne)/ge),e=Math.ceil((de+ne)/ge);let s=Math.ceil((he+mt)/me);const a=Math.ceil((he+ne)/me);s>a&&(s=a);const h=[];ce.forEach((l,r)=>{const[y,f,C]=r.split(",").map(Number);(y<t||y>i||f<n||f>e||C<s||C>a)&&h.push(r)}),h.forEach(l=>ce.delete(l));for(let l=t;l<=i;l+=1)for(let r=n;r<=e;r+=1)for(let y=s;y<=a;y+=1){const f=ye(l,r,y);if(Se.has(f)){ce.delete(f);continue}!ce.has(f)&&ft.has(f)&&ce.set(f,Tt(l,r,y))}}I.addEventListener("mousedown",t=>{et=!0,Fe=t.clientX,$e=t.clientY});let Ze=-9999,Qe=-9999;I.addEventListener("mousemove",t=>{const i=I.getBoundingClientRect();Ze=t.clientX-i.left,Qe=t.clientY-i.top,et&&(Ne-=(t.clientX-Fe)*1.5,Ge-=(t.clientY-$e)*1.5,Fe=t.clientX,$e=t.clientY),Dt(Ze,Qe)});I.addEventListener("mouseleave",()=>{Ze=-9999,Qe=-9999});I.addEventListener("mouseup",()=>{et=!1});I.addEventListener("click",t=>{if(pe!==null){ie=pe,lt(N[pe]);return}Je.classList.contains("active")&&ct()});I.addEventListener("wheel",t=>{Be+=t.deltaY*.5,t.preventDefault()},{passive:!1});function je(t){ie=t,Ce.querySelectorAll(".project-list-item").forEach((E,x)=>{E.classList.toggle("active",x===t)});const n=N[t];let e=J.find(E=>E.project===n);if(!e){console.log("Project not spawned, spawning:",n.title);const E=De.find(x=>x.project===n);if(E&&!E.spawned){const x=Math.round(ae/se),A=Math.round(de/ge),W=Math.round((he+500)/me);Ke(E,x,A,W),e=J.find(S=>S.project===n)}}if(!e){console.error("Failed to spawn project:",n.title);return}const s=450,a=I.width,l=(a-s)/2,y=a/2-l,f=200,C=y*(f/300);Ne=e.x+C,Ge=e.y,Be=e.z-f,lt(N[t])}I.addEventListener("dblclick",()=>{ie=null,Ne=0,Ge=0,Be=0,ht=1,Ce.querySelectorAll(".project-list-item").forEach(i=>i.classList.remove("active"))});function Dt(t,i){pe=null;let n=1/0;J.forEach((e,s)=>{if(U!=="about"&&e.project.type!==U)return;const a=ke(e.x,e.y,e.z);if(!a)return;const h=e.particles.length*8*a.scale,l=20*a.scale,r=t-a.x,y=i-a.y;if(Math.abs(r)<h/2&&Math.abs(y)<l/2){const f=Math.sqrt(r*r+y*y);f<n&&(pe=s,n=f)}}),I.style.cursor=pe!==null?"pointer":"default"}function ke(t,i,n){const e=t-ae,s=i-de,a=n-he;if(a<50||a>2e3)return null;const r=300/a*qe;return{x:I.width/2+e*r,y:I.height/2+s*r,scale:r,z:a}}function zt(t,i,n,e,s,a){const r=200*n.scale,y=120*n.scale,f=15*n.scale,C=Math.max(8,12*n.scale),E=Math.max(10,16*n.scale),x=n.x-r/2,A=n.y+30*n.scale;t.save(),t.globalAlpha=Math.max(.2,e);const W=s?"#000":"#fff",S=s?"#fff":"#000";if(t.fillStyle=W,t.strokeStyle=S,t.lineWidth=Math.max(1,2*n.scale),t.fillRect(x,A,r,y),t.strokeRect(x,A,r,y),a){t.fillStyle=s?"#fff":"#000",t.globalAlpha=Math.max(.3,e),t.font=`bold ${E}px "Courier New"`,t.textAlign="left",t.textBaseline="top";const j=r-f*2;let H=i.title;for(;t.measureText(H).width>j&&H.length>0;)H=H.slice(0,-1);t.fillText(H,x+f,A+f),t.font=`${C*.7}px "Courier New"`,t.fillStyle=s?"#fff":"#000",t.globalAlpha=Math.max(.2,e*.6),t.fillText(i.category,x+f,A+f+E+4),t.font=`${C*.8}px "Courier New"`,t.fillStyle=s?"#fff":"#000",t.globalAlpha=Math.max(.3,e*.8);const O=A+f+E+C+8,q=C*1.2,F=2,Y=i.desc.split(" ");let z="",o=0;for(let p=0;p<Y.length&&o<F;p++){const w=z+Y[p]+" ";t.measureText(w).width>j&&z!==""?(t.fillText(z.trim(),x+f,O+o*q),z=Y[p]+" ",o++):z=w}o<F&&z.trim()!==""&&t.fillText(z.trim()+"...",x+f,O+o*q)}t.restore()}function ut(){Q+=.02,M.fillStyle="#fff",M.fillRect(0,0,I.width,I.height),M.font='12px "Courier New"',M.textAlign="center",M.textBaseline="middle";const t=ie!==null&&N[ie];let i=null;if(t)i=N[ie];else if(U==="game"){const e=N.filter(s=>s.type!=="game"?!1:ue==="games"?!s.subtype:ue==="projects"?s.subtype==="project":!0);i=e.length>0?e[0]:null}else(U==="tech"||U==="creative")&&(i=N.find(e=>e.type===U)||null);!i&&N.length>0&&(i=N[0]),gt.forEach(e=>{const s=.3+e.depth*.7,a=(Math.sin(e.baseX*.01+Q*s)*3+Math.sin(e.baseY*.01+Q*.7*s)*3)*s,h=.1*s;e.vx+=(e.baseX-e.x)*h,e.vy+=(e.baseY-e.y+a)*h,e.vx*=.85,e.vy*=.85,e.x+=e.vx,e.y+=e.vy;const l=e.baseAlpha+Math.sin(e.phase+Q*2*s)*.03,r=10+e.depth*4;M.save(),M.globalAlpha=l,M.fillStyle="#000",M.font=`${r}px "Courier New"`,M.fillText(e.char,e.x,e.y),M.restore()}),ae+=(Ne-ae)*.1,de+=(Ge-de)*.1,he+=(Be-he)*.1,qe+=(ht-qe)*.1,Lt(),St(),J.forEach((e,s)=>{const a=wt(e.x*.002,e.y*.002,e.z*.002),h=1.5;e.vx+=a.x*h,e.vy+=a.y*h,e.vz+=a.z*h;const l=.015;e.vx+=(e.baseX-e.x)*l,e.vy+=(e.baseY-e.y)*l,e.vz+=(e.baseZ-e.z)*l,e.vx*=.93,e.vy*=.93,e.vz*=.93;const r=3;e.vx=Math.max(-r,Math.min(r,e.vx)),e.vy=Math.max(-r,Math.min(r,e.vy)),e.vz=Math.max(-r,Math.min(r,e.vz)),e.x+=e.vx,e.y+=e.vy,e.z+=e.vz});const n=J.map((e,s)=>({cluster:e,i:s,projected:ke(e.x,e.y,e.z)})).filter(e=>e.projected!==null).sort((e,s)=>s.projected.z-e.projected.z);Math.random()<.01&&console.log("Drawing",n.length,"clusters, total spawned:",J.length),n.forEach(({cluster:e,i:s,projected:a})=>{const h=pe===s,l=!t&&i&&e.project===i,r=t&&i&&e.project===i,y=a.z,f=450;e.spawnAlpha<e.targetAlpha&&(e.spawnAlpha=Math.min(e.spawnAlpha+.05,e.targetAlpha)),e.particles.forEach(A=>{const W=a.x+A.offsetX*a.scale,S=a.y+A.offsetY*a.scale;M.save();const j=Math.max(8,12*a.scale);M.font=h?`bold ${j}px "Courier New"`:`${j}px "Courier New"`,M.fillStyle=h?"#ff0000":"#000";const H=Math.max(.45,Math.min(1,a.scale*1.5));M.globalAlpha=H*e.spawnAlpha,M.fillText(A.char,W,S),M.restore()});const C=r||h,E=a.scale>=.35;let x;if(C)x=1;else if(l)x=.85;else{const A=Math.max(0,f-y);x=Math.max(.35,Math.min(.9,A/100))}zt(M,e.project,a,x*e.spawnAlpha,C,E)}),ce.forEach(e=>{const s=ke(e.x,e.y,e.z);if(!s)return;let a=!1;for(const r of J){const y=e.x-r.x,f=e.y-r.y,C=e.z-r.z;if(Math.sqrt(y*y+f*f+C*C)<150){a=!0;break}}if(a)return;e.changeTimer-=.02,e.changeTimer<=0&&(Pt(e),e.changeTimer=.1+Math.random()*.3);const h=.2+Math.sin(e.phase+Q*2)*.1,l=Math.max(8,12*s.scale);M.save(),M.globalAlpha=h,M.fillStyle="#000",M.font=`${l}px "Courier New"`,M.textAlign="center",M.textBaseline="middle",M.fillText(e.text,s.x,s.y),M.restore()}),requestAnimationFrame(ut)}_e();ut();window.addEventListener("resize",()=>{we.width=window.innerWidth,we.height=window.innerHeight,I.width=ze.clientWidth,I.height=ze.clientHeight});(()=>{console.log("ðŸš€ Loader.js starting...");const t=document.getElementById("loading-container");if(!t){console.error("âŒ Loading container not found!");return}if(console.log("âœ… Loading container found"),sessionStorage.getItem("loading-shown")==="true"){console.log("â­ï¸  Loading already shown this session, skipping..."),t.style.display="none";const c=document.getElementById("content-container");c&&(c.style.opacity="1"),document.body.classList.remove("loading-active");return}const n=document.getElementById("starfield-canvas"),e=document.getElementById("loading-particle-canvas"),s=document.getElementById("progress-bar"),a=document.getElementById("progress-text"),h=document.getElementById("progress-title"),l=document.getElementById("content-container");l&&(l.style.opacity="0"),document.body.classList.add("loading-active");let r=0,y=0,f=!1,C=!1,E=!1;const x=setTimeout(()=>{f=!0,A()},15e3);function A(){if(E)return;const c=y>=r||f;C&&c&&G()}window.addEventListener("stellar-loader:setAssetCount",c=>{const d=Number(c.detail);!Number.isNaN(d)&&d>=0&&(r=d,y>=r&&clearTimeout(x),A())}),window.addEventListener("stellar-loader:assetLoaded",()=>{y+=1,y>=r&&clearTimeout(x),A()}),t.addEventListener("dblclick",()=>{E||(console.log("âš¡ Loader skipped via double-click"),f=!0,C=!0,clearTimeout(x),s&&(s.style.width="100%"),h&&(h.textContent="SKIPPING..."),a&&(a.textContent="100%"),A())});const W=n.getContext("2d"),S=e.getContext("2d"),j=.15;function H(){return window.innerWidth<768}const O=["HELLO WORLD","I am a GAMER","I am a DEVELOPER","I am Homo Ludens","I am XIAO"];let q=0,F="",Y=0,z=0,o=[],p=[],w=[],T=[];function _(){n.width=window.innerWidth,n.height=window.innerHeight,e.width=window.innerWidth,e.height=window.innerHeight,o=[],p=[],w=[],T=[],Y=Math.max(40,e.width*j),z=0}_(),console.log("ðŸ“ Canvas dimensions:",e.width,"x",e.height),window.addEventListener("resize",()=>{_(),fe(F),w=[],Ae(q)});class xe{constructor(){this.reset()}reset(){this.x=Math.random()*n.width,this.y=Math.random()*n.height,this.z=Math.random()*2e3,this.size=Math.random()*1.5+.5,this.opacity=Math.random()*.5+.3,this.twinkleSpeed=Math.random()*.02+.01,this.twinkleOffset=Math.random()*Math.PI*2}update(){this.z-=1,this.z<=0&&(this.reset(),this.z=2e3)}draw(d){const u=(this.x-n.width/2)*(1e3/this.z)+n.width/2,g=(this.y-n.height/2)*(1e3/this.z)+n.height/2,m=this.size*(1e3/this.z);if(u<0||u>n.width||g<0||g>n.height){this.reset();return}const K=Math.sin(d*this.twinkleSpeed+this.twinkleOffset)*.3+.7,Z=this.opacity*K*(1e3/this.z);W.fillStyle=`rgba(0, 0, 0, ${Z})`,W.fillRect(u,g,m,m)}}const Te=Array.from({length:200},()=>new xe);class oe{constructor(d,u,g,m){this.x=d,this.y=u,this.targetX=g,this.targetY=m,this.size=Math.random()*2+1,this.opacity=0,this.targetOpacity=1}update(){const d=this.targetX-this.x,u=this.targetY-this.y,g=.06;this.x+=d*g,this.y+=u*g,this.opacity<this.targetOpacity?this.opacity=Math.min(this.opacity+.02,this.targetOpacity):this.opacity>this.targetOpacity&&(this.opacity=Math.max(this.opacity-.02,this.targetOpacity))}draw(){S.fillStyle=`rgba(0, 0, 0, ${this.opacity})`,S.fillRect(this.x,this.y,this.size,this.size)}}function $(c,d={}){if(!c)return[];const u=Math.min(window.innerWidth/8,80);S.font=`bold ${u}px "Courier New", monospace`,S.textAlign="center",S.textBaseline="middle";const g=document.createElement("canvas"),m=g.getContext("2d"),Z=S.measureText(c).width,k=u;g.width=Z+40,g.height=k+40;const te=d.centerX??e.width/2,b=d.centerY??e.height/2,B=te-g.width/2,L=b-g.height/2;m.font=S.font,m.textAlign="center",m.textBaseline="middle",m.fillStyle="#fff",m.fillText(c,g.width/2,g.height/2);const V=m.getImageData(0,0,g.width,g.height),D=[],le=4;for(let ve=0;ve<g.height;ve+=le)for(let Ee=0;Ee<g.width;Ee+=le){const Pe=(ve*g.width+Ee)*4;if(V.data[Pe+3]>128){const Le=B+Ee,He=L+ve;D.push({x:Le,y:He})}}return D}function fe(c){F=c;const d=H(),u=Math.min(window.innerWidth/8,80),g=d&&c?e.height/2-u*.75:e.height/2;let m=Math.max(40,e.width*j);if(S.font=`bold ${u}px "Courier New", monospace`,!c){Y=m,z=u*.2,o=[],p=[],w=[];return}let K=[],Z=m,k=u*.2;if(c==="I am"){const b=S.measureText("I").width,B=S.measureText("am").width,L=S.measureText("I ").width,D=Math.max(0,L-b)*.75;if(d){const X=b+D+B;m=(e.width-X)/2}const le=$("I",{centerX:m+b/2,centerY:g});if(le.length===0){Y=m,z=D,o=[],p=[],w=[];return}const ve=Math.min(...le.map(X=>X.x)),Ee=m-ve,Pe=le.map(X=>({x:X.x+Ee,y:X.y})),Xe=Math.max(...Pe.map(X=>X.x)),Le=Xe+D,He=Le+B/2,Ye=$("am",{centerX:He,centerY:g});if(Ye.length===0){Y=Xe,z=D,o=[],p=[],w=[];return}const yt=Math.min(...Ye.map(X=>X.x)),tt=Ye.map(X=>({x:X.x+(Le-yt),y:X.y})),pt=Math.max(...tt.map(X=>X.x));K=Pe.concat(tt),Z=pt,k=D}else{const b=$(c,{centerX:e.width/2,centerY:g});if(b.length===0){Y=m,z=k,o=[],p=[],w=[];return}const B=Math.min(...b.map(D=>D.x)),L=Math.max(...b.map(D=>D.x)),V=m-B;K=b.map(D=>({x:D.x+V,y:D.y})),Z=L+V}o.length!==K.length?o=K.map(b=>{const B=new oe(e.width/2,e.height/2,b.x,b.y);return B.opacity=0,B.targetOpacity=1,B}):o.forEach((b,B)=>{const L=K[B];b.targetX=L.x,b.targetY=L.y,b.targetOpacity=1}),Y=Z,z=k,w=[],p=[]}function be(){if(F!=="I am"){w=[],p=[];return}const c=Math.min(window.innerWidth/8,80),d=H()?e.height/2-c*.75:e.height/2,u=$("a",{centerX:e.width/2,centerY:d});if(u.length===0){w=[],p=[];return}const g=Math.min(...u.map(k=>k.x)),m=z>0?z:c*.2,Z=Y+m-g;w=u.map(k=>({x:k.x+Z,y:k.y})),p.length!==w.length?p=w.map(k=>{const te=new oe(e.width/2,e.height/2,k.x,k.y);return te.opacity=0,te.targetOpacity=0,te}):p.forEach((k,te)=>{const b=w[te];k.targetX=b.x,k.targetY=b.y})}function Oe(c){if(F!=="I am"){p.forEach(d=>{d.targetOpacity=0});return}w.length===0&&be(),w.length!==0&&p.forEach((d,u)=>{const g=w[u];d.targetX=g.x,d.targetY=g.y,d.targetOpacity=c?1:0})}function Ae(c){if(c>=O.length)return;const d=O[c];let u="",g=!1;d.startsWith("I am a ")?(u="I am",g=!0):d.startsWith("I am ")&&(u="I am"),(u!==F||o.length===0)&&fe(u),u==="I am"&&w.length===0&&be(),Oe(g);const m=g?7:u==="I am"?5:0,K=m>0?d.slice(m).trimStart():d,Z=Math.min(window.innerWidth/8,80),k=H(),te=u==="I am"&&k?e.height/2+Z*.75:e.height/2,b=$(K,{centerX:e.width/2,centerY:te}),B=[];for(let L=0;L<b.length;L+=1){let V,D;L<T.length?(V=T[L].x,D=T[L].y):(V=e.width/2,D=e.height/2);const le=new oe(V,D,b[L].x,b[L].y);B.push(le)}for(let L=b.length;L<T.length;L+=1){const V=new oe(T[L].x,T[L].y,e.width/2,e.height/2);V.opacity=.5,B.push(V)}T=B,h&&(h.style.opacity="0",setTimeout(()=>{h.textContent=d,h.style.opacity="1"},250))}let Ie=Date.now();const R=1500+500;let ee=!0;function re(){if(!ee)return;const d=Date.now()-Ie,u=Math.min(Math.floor(d/R),O.length-1);u!==q&&(q=u,console.log("ðŸŽ¬ Showing title",u,":",O[u],"at",d.toFixed(0),"ms"),Ae(q)),W.fillStyle="rgba(255, 255, 255, 1)",W.fillRect(0,0,n.width,n.height),S.clearRect(0,0,e.width,e.height),Te.forEach(m=>{m.update(),m.draw(d*.001)}),o.forEach(m=>{m.update(),m.draw()}),p.forEach(m=>{m.update(),m.draw()}),T.forEach(m=>{m.update(),m.draw()});const g=Math.min(d/(R*O.length)*100,100);s&&(s.style.width=`${g}%`),a&&(a.textContent=`${Math.round(g)}%`,a.style.opacity="1"),g>=100&&!C&&(C=!0,A()),requestAnimationFrame(re)}function G(){if(E)return;E=!0,ee=!1;const c=Date.now()-Ie;console.log("âœ… Loader complete! Showing portfolio page at",c.toFixed(0),"ms"),sessionStorage.setItem("loading-shown","true"),t.style.transition="opacity 0.8s ease-out",t.style.opacity="0",l&&(l.style.transition="opacity 0.8s ease-in",l.style.opacity="1"),setTimeout(()=>{t.classList.add("hidden")},800)}fe(F),console.log("ðŸŽ¬ Starting animation with title 0:",O[0]),Ae(0),re(),console.log("âœ¨ Animation loop started")})();

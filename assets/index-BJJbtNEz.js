import"./modulepreload-polyfill-B5Qt9EMX.js";const D=[{id:"stellarune",title:"STELLARUNE",category:"GAME DESIGN",type:"game",desc:"A unique action strategy game where players use dice to cast magic spells while engaging in real-time, grid-based combat.",fullDesc:"Stellarune is a unique action strategy game where players use dice to cast magic spells while engaging in real-time, grid-based combat. Here, magic is a power bestowed from the stars and where the essence of a soul manifests in the form of dice. Players receive dice faces with magic spells inscribed on them from defeating foes and can use them to customize dice to suit their individual playstyle.",meta:{role:"Project Manager, Lead Programmer, Technical Artist",team:"15 members",engine:"Unreal Engine 5",year:"2022-2023"},tags:["UE5","C++","Multiplayer"],connections:["dice-gen","vfx-system"]},{id:"cyber-cipher",title:"CYBER CIPHER",category:"GAME DESIGN",type:"game",desc:"Award-winning 2.5D action game about a computer bug navigating through firewalls.",fullDesc:"Award-winning 2.5D action game about a computer bug who must dodge hazards and security firewalls as they try to corrupt the User's programming files. Created for the 2023 Global Game Jam with the support of Coexist Gamelab.",meta:{award:"Global Game Jam 2023",role:"Game Designer, Programmer",year:"2023"},tags:["Unity","C#","GGJ"],connections:["high-noon"]},{id:"dice-gen",title:"DICE FACE GEN",category:"TECHNICAL ART",type:"tech",desc:"Python script for Maya converting 2D images into 3D dice face models.",fullDesc:"Python script interacting with Autodesk Maya to convert 2D images into 3D models with specific modifications. The script includes a GUI creation function with an interface designed in PyQt. A button in the GUI triggers the 3D model creation process using user-provided values.",meta:{tools:"Python, Maya, PyQt",purpose:"Stellarune Pipeline Tool",year:"2022"},tags:["Python","Maya","Pipeline"],connections:["stellarune","vfx-system"]},{id:"vfx-system",title:"VFX SYSTEM",category:"TECHNICAL ART",type:"tech",desc:"Dynamic Niagara particle system with user parameters for real-time control.",fullDesc:"Niagara System using User Parameters to control VFX transform and animation, accessible from any Actor Blueprint. The system is configured to adjust sprite size, orientation, and color. A unique aspect is the capacity to modify system parameters externally, allowing for dynamic particle spawn and transform changes.",meta:{engine:"Unreal Engine 5",type:"Niagara System",year:"2023"},tags:["UE5","Niagara","VFX"],connections:["stellarune","procedural"]},{id:"procedural",title:"PROCEDURAL ANIM",category:"TECHNICAL ART",type:"tech",desc:"Unity C# script for procedural animation using Inverse Kinematics.",fullDesc:"C# script for procedural animation made with Unity Animation Rigging package. Character rigged in Blender with adjustable parameters for different movement styles. Utilizes Inverse Kinematics to ensure fluid limb movement.",meta:{tools:"Unity, C#, Blender",features:"IK, Animation Rigging",year:"2023"},tags:["Unity","C#","IK"],connections:["vfx-system","ocean"]},{id:"anim-state",title:"ANIMATION STATE MACHINE",category:"TECHNICAL ART",type:"tech",desc:"UE5 Animation Blueprint controlling dice model behavior with state transitions.",fullDesc:'Animation Blueprint system for controlling die model behavior using an integer variable "Face". If the value is between 1-6, the die rolls to that specific face. If 0 or 7+, the die maintains perpetual rolling animation. System starts from a conduit state and transitions to one of six states, each linked to a specific dice face.',meta:{engine:"Unreal Engine 5",purpose:"Stellarune Animation System",year:"2022"},tags:["UE5","Animation","Blueprint"],connections:["stellarune"]},{id:"fireworks",title:"FIREWORKS VFX",category:"TECHNICAL ART",type:"tech",desc:"Particle effect system for fireworks visualization.",fullDesc:"Unreal Engine 5 Niagara particle system designed specifically for fireworks visualization with realistic explosion patterns and particle behavior.",meta:{engine:"Unreal Engine 5",type:"Niagara System",year:"2023"},tags:["UE5","Niagara","VFX"],connections:["vfx-system"]},{id:"procgen-crystals",title:"PROCGEN CRYSTALS",category:"TECHNICAL ART",type:"tech",desc:"Procedurally generated crystal system.",fullDesc:"Procedural crystal generation system using Unreal Engine with dynamic geometry and material properties.",meta:{engine:"Unreal Engine",type:"Procedural Generation",year:"2023"},tags:["UE5","Procedural","3D"],connections:["vfx-system"]},{id:"text-converter",title:"TEXT-IMAGE CONVERTER",category:"TECHNICAL ART",type:"tech",desc:"Python tool for text and image processing.",fullDesc:"Converter tool for text/image processing built with Python, enabling seamless conversion between text and image formats.",meta:{tools:"Python",type:"Utility Tool",year:"2023"},tags:["Python","Tool","Utility"],connections:[]},{id:"ocean",title:"OCEAN",category:"CREATIVE",type:"creative",desc:"Blender 3D environment design exploring underwater themes.",fullDesc:"Blender 3D environment design exploring underwater themes and atmospheric lighting techniques. This piece explores the intersection of technical skill and artistic vision, using procedural shaders and particle systems.",meta:{medium:"Blender 3D",year:"2023"},tags:["Blender","3D","Environment"],connections:["procedural"]},{id:"untitled",title:"UNTITLED",category:"CREATIVE",type:"creative",desc:"Blender 3D artwork.",fullDesc:"An experimental 3D piece created in Blender exploring form and space.",meta:{medium:"Blender",year:"2023"},tags:["Blender","3D"],connections:[]},{id:"unattainable-dream",title:"UNATTAINABLE DREAM",category:"CREATIVE",type:"creative",desc:"Blender 3D artwork exploring dreams and aspirations.",fullDesc:"A contemplative 3D piece created in Blender that explores themes of unattainable dreams and aspirations.",meta:{medium:"Blender",year:"2023"},tags:["Blender","3D","Conceptual"],connections:[]},{id:"drifter",title:"DRIFTER",category:"CREATIVE",type:"creative",desc:"VR artwork created with Gravity Sketch and Quill.",fullDesc:"Virtual reality artwork created using Gravity Sketch and Quill VR, exploring spatial design and immersive art creation.",meta:{medium:"Gravity Sketch, Quill VR",year:"2021"},tags:["VR","3D","Immersive"],connections:[]},{id:"eternal-love",title:"ETERNAL LOVE",category:"CREATIVE",type:"creative",desc:"Mixed media artwork combining ink, origami paper, and Python.",fullDesc:"A unique mixed media piece that combines traditional materials (ink and origami paper) with computational art created using Python.",meta:{medium:"Ink, Origami Paper, Python",year:"2023"},tags:["Mixed Media","Python","Traditional"],connections:[]},{id:"sketch-210413",title:"SKETCH 210413",category:"CREATIVE",type:"creative",desc:"Web-based interactive sketch.",fullDesc:"An interactive web-based sketch created using HTML, CSS, and Javascript, exploring digital art and interaction design.",meta:{medium:"HTML, CSS, Javascript",year:"2023"},tags:["Web","Interactive","Code Art"],connections:[]},{id:"skull-red-cloth",title:"SKULL ON RED CLOTH",category:"CREATIVE",type:"creative",desc:"Traditional pastel artwork.",fullDesc:"A traditional art piece created with pastels on pastel paper, depicting a skull on red cloth.",meta:{medium:"Pastel, Pastel Paper",year:"2020"},tags:["Traditional","Pastel","Drawing"],connections:[]},{id:"high-noon",title:"HIGH NOON",category:"GAME DESIGN",type:"game",desc:"4-player competitive strategy board game with western duel mechanics.",fullDesc:"High Noon at Blackmeadow is a 4 player competitive strategy game designed to bring the western duel alive on a board. It incorporated an exhilarating experience challenging both the players' physical reflex and their strategic planning.",meta:{type:"Board Game",players:"4",year:"2022"},tags:["Board Game","Strategy"],connections:["cyber-cipher"]},{id:"godzilla",title:"GODZILLA SIMULATOR",category:"GAME DESIGN",type:"game",desc:"Search and rescue game where you relive memories of Godzilla attack survivors.",fullDesc:"Relive the memories of those who suffered during the Godzilla attack. Acting as a GEMA volunteer, search and rescue the damaged area and discover the hidden truth.",meta:{role:"Game Designer",type:"Simulation"},tags:["Unity","Simulation"],connections:[]},{id:"idyllia",title:"IDYLLIA",category:"GAME DESIGN",type:"game",desc:"A short downloadable puzzle game where your garden grows as you solve puzzles.",fullDesc:"Idyllia is a short downloadable puzzle game for Windows and macOS. The player solves tile-based puzzles, and for each puzzle solved, the garden grows larger and lusher. The garden, however, is greedy for life. Where will that greed take it?",meta:{platform:"Windows, macOS",type:"Puzzle Game"},tags:["Puzzle","Downloadable"],connections:[]},{id:"roomba-out",title:"ROOMBA OUT!",category:"GAME DESIGN",type:"game",desc:"Strategy game where you control a Shiba Inu to guide a Roomba out of the house.",fullDesc:'Roomba OUT! is a strategy game where the player needs to control the Shiba Inu to "guide" the Roomba out of the house, based on the fact that the idiot robot can only turn right when facing obstacles.',meta:{type:"Strategy Puzzle"},tags:["Strategy","Puzzle"],connections:[]},{id:"one-more-floor",title:"ONE MORE FLOOR",category:"GAME DESIGN",type:"game",desc:"Horror survival game in a desolate, dark, ravaged world.",fullDesc:"A desolate, dark, ravaged world. Overrun. Lost. These creatures are everywhere, lurking around every corner, every shadow, where light cannot find them. Play as a child stuck in this building, cornered by mysterious, terrifying creatures, as he must fight his way to survival and to freedom!",meta:{type:"Horror Survival"},tags:["Horror","Survival"],connections:[]},{id:"antiquity",title:"ANTIQUITY'S LOCUS",category:"GAME DESIGN",type:"game",desc:"Narrative game exploring LGBTQ+ themes during the AIDS crisis.",fullDesc:"Teresa had a few acquaintances in Mason City prior to the accident, but being an out lesbian during the aids crisis in a suburban town of only 30,000 people doesn't leave you with a particularly massive support network.",meta:{type:"Narrative Game"},tags:["Narrative","LGBTQ+"],connections:[]},{id:"free-fall",title:"FREE FALL 2",category:"GAME DESIGN",type:"game",desc:"A relaxation and freedom themed experience.",fullDesc:"Take a breath, relax, go for a walk, free fall... or do whatever makes you feel free and emancipate. Take care of yourselves out there, you are beautiful 🌈",meta:{type:"Relaxation Experience"},tags:["Relaxation","Experience"],connections:[]},{id:"sayhelp",title:"SAYHELP",category:"GAME DESIGN",type:"game",desc:"Philosophical narrative game.",fullDesc:"In the center of the pine wood called Coilla Doraca there lived not long ago two Philosophers. They were wiser than anything else in the world except the Salmon who lies in the pool of Glyn Cagny into which the nuts of knowledge fall from the hazel bush on its bank.",meta:{type:"Narrative Game"},tags:["Narrative","Philosophy"],connections:[]},{id:"wheelchair-vr",title:"WHEELCHAIR SIMULATION VR",category:"VR PROJECT",type:"game",subtype:"project",desc:"Virtual reality wheelchair simulation experience.",fullDesc:"An immersive VR experience that simulates wheelchair navigation, designed to build empathy and understanding.",meta:{platform:"VR",type:"Simulation"},tags:["VR","Simulation","Accessibility"],connections:[]}],_e=document.querySelectorAll("#filters button"),Fe=document.getElementById("detail-panel"),ye=document.getElementById("content-particle-canvas"),Be=ye.getContext("2d"),Ee=document.getElementById("project-list");ye.width=window.innerWidth;ye.height=window.innerHeight;let V="game",me="all",ee=null;function Ke(){if(Ee.innerHTML="",V==="game"){const t=D.filter(n=>n.type==="game"&&!n.subtype),i=D.filter(n=>n.type==="game"&&n.subtype==="project");(me==="all"||me==="games")&&t.forEach((n,e)=>{const o=D.indexOf(n),s=document.createElement("div");s.className="project-list-item",s.dataset.index=o,s.dataset.type=n.type,s.innerHTML=`
                            <div class="title">${n.title}</div>
                            <div class="cat">${n.category}</div>
                        `,s.addEventListener("click",()=>He(o)),Ee.appendChild(s)}),(me==="all"||me==="projects")&&i.forEach((n,e)=>{const o=D.indexOf(n),s=document.createElement("div");s.className="project-list-item",s.dataset.index=o,s.dataset.type=n.type,s.innerHTML=`
                            <div class="title">${n.title}</div>
                            <div class="cat">${n.category}</div>
                        `,s.addEventListener("click",()=>He(o)),Ee.appendChild(s)})}else D.forEach((t,i)=>{if(V==="about"||t.type===V){const n=document.createElement("div");n.className="project-list-item",n.dataset.index=i,n.dataset.type=t.type,n.innerHTML=`
                            <div class="title">${t.title}</div>
                            <div class="cat">${t.category}</div>
                        `,n.addEventListener("click",()=>He(i)),Ee.appendChild(n)}})}_e.forEach(t=>{t.addEventListener("click",()=>{V=t.dataset.filter,_e.forEach(n=>n.classList.remove("active")),t.classList.add("active");const i=document.getElementById("works-subfilter");V==="game"?(i.style.display="flex",document.getElementById("sidebar-title").textContent="WORKS"):V==="tech"?(i.style.display="none",document.getElementById("sidebar-title").textContent="TECHNICAL"):V==="creative"?(i.style.display="none",document.getElementById("sidebar-title").textContent="CREATIVE"):(i.style.display="none",document.getElementById("sidebar-title").textContent="ABOUT"),Ke()})});const et=document.querySelectorAll(".subfilter-btn");et.forEach(t=>{t.addEventListener("click",()=>{me=t.dataset.subfilter,et.forEach(i=>{i.classList.remove("active"),i.style.opacity="0.5"}),t.classList.add("active"),t.style.opacity="1",Ke()})});function st(t){document.getElementById("detail-title").textContent=t.title,document.getElementById("detail-category").textContent=t.category,document.getElementById("detail-desc").textContent=t.fullDesc;const i=Object.entries(t.meta).map(([n,e])=>`<div class="meta-item"><strong>${n.toUpperCase()}</strong>${e}</div>`).join("");document.getElementById("detail-meta").innerHTML=i,Fe.classList.add("active")}function ot(){Fe.classList.remove("active"),ee=null}document.querySelector("#detail-panel .close").addEventListener("click",()=>{ot()});const Oe=[];function rt(){Be.clearRect(0,0,ye.width,ye.height);for(let t=Oe.length-1;t>=0;t--){const i=Oe[t];if(i.x+=i.vx,i.y+=i.vy,i.life-=.02,i.life<=0){Oe.splice(t,1);continue}Be.fillStyle=`rgba(0, 0, 0, ${i.life})`,Be.fillRect(i.x,i.y,i.size,i.size)}requestAnimationFrame(rt)}rt();const I=document.getElementById("constellation-canvas"),E=I.getContext("2d"),Pe=document.getElementById("main-container");let te=0,oe=0,re=0,ze=0,ke=0,Re=0,Ue=1,lt=1,Ze=!1,We=0,Ve=0,ue=null,$=0;function ve(t,i,n){const g=Math.sin(t*.08+$*.3)*Math.cos(i*.08+$*.2),h=Math.sin(i*.15-$*.25)*Math.cos(n*.15+$*.15),r=Math.sin(n*.05+$*.2)*Math.cos(t*.05-$*.1);return(g+h+r)/3}function ut(t,i,n){const o=ve(t,i+.1,n),s=ve(t,i-.1,n),g=ve(t,i,n+.1),h=ve(t,i,n-.1),r=ve(t+.1,i,n),y=ve(t-.1,i,n);return{x:o-s-(r-y),y:g-h-(o-s),z:r-y-(g-h)}}I.width=Pe.clientWidth;I.height=Pe.clientHeight;const tt=["~","-","_",".","·","˙"],ct=[],yt=Math.floor(I.width/12),pt=Math.floor(I.height/16);for(let t=0;t<pt;t++)for(let i=0;i<yt;i++){const n=i*12,e=t*16,o=Math.random();ct.push({x:n,y:e,baseX:n,baseY:e,vx:0,vy:0,char:tt[Math.floor(Math.random()*tt.length)],phase:Math.random()*Math.PI*2,depth:o,baseAlpha:.05+o*.15})}const ne=300,le=300,ce=300,dt=50;function Ye(t){for(let i=t.length-1;i>0;i-=1){const n=Math.floor(Math.random()*(i+1));[t[i],t[n]]=[t[n],t[i]]}return t}const F=[],nt=["stellarune","fireworks"];let it=!1;const Le=[],be=new Map;let at=new Set,ht=new Set;const wt=D.filter(t=>t.type==="game"),xt=D.filter(t=>t.type==="tech"),vt=D.filter(t=>t.type==="creative"),Et=[...wt,...xt,...vt],Te=Et.map(t=>({project:t,spawned:!1,gridX:null,gridY:null,gridZ:null}));function je(t,i,n,e){const o=i*ne,s=n*le,g=e*ce,h=[],r=t.project.title,y=8,m=-(r.length*y)/2;for(let p=0;p<r.length;p++)h.push({char:r[p],offsetX:m+p*y,offsetY:0});const M={x:o,y:s,z:g,baseX:o,baseY:s,baseZ:g,vx:0,vy:0,vz:0,particles:h,project:t.project,isReal:!0,projectData:t,spawnAlpha:0,targetAlpha:1};F.push(M),t.spawned=!0,t.gridX=i,t.gridY=n,t.gridZ=e;const C=fe(i,n,e);return se.delete(C),be.set(C,t),M}function Mt(t){const i=F.findIndex(e=>e.projectData===t);if(i===-1)return;const[n]=F.splice(i,1);if(t.spawned=!1,t.gridX!==null){const e=fe(t.gridX,t.gridY,t.gridZ);be.delete(e),se.delete(e)}n&&(n.spawnAlpha=0),Le.includes(t)||Le.push(t)}function Ct(t,i,n){const e=t*ne,o=i*le,s=n*ce;return De(e,o,s)}function bt(){const t=Math.floor((te-K)/ne),i=Math.ceil((te+K)/ne),n=Math.floor((oe-K)/le),e=Math.ceil((oe+K)/le);let o=Math.ceil((re+dt)/ce);const s=Math.ceil((re+K)/ce);o>s&&(o=s),Te.forEach(a=>{if(a.spawned){if(ee!==null&&D[ee]===a.project)return;(a.gridX<t||a.gridX>i||a.gridY<n||a.gridY>e||a.gridZ<o||a.gridZ>s)&&Mt(a)}});const g=[];for(let a=t;a<=i;a++)for(let v=n;v<=e;v++)for(let X=o;X<=s;X++){const H=Ct(a,v,X);if(!H)continue;const Z=40;if(H.x<-Z||H.x>I.width+Z||H.y<-Z||H.y>I.height+Z)continue;const Q=fe(a,v,X);g.push({key:Q,gx:a,gy:v,gz:X,distance:H.z})}const h=[...g].sort((a,v)=>a.distance-v.distance),r=new Set(h.map(a=>a.key)),y=h.filter(a=>!at.has(a.key)),m=y.filter(a=>a.gx===t||a.gx===i||a.gy===n||a.gy===e||a.gz===o||a.gz===s);if(ht=new Set(y.map(a=>a.key)),!it){const a=Math.min(Math.max(5,Math.floor(h.length*.2)),Math.max(0,h.length-1)),v=Math.max(0,h.length-a),X=h.slice(0,v),Z=(w=>{const A=new Map;w.forEach(l=>{const c=l.gz,d=Math.sqrt(l.gx*l.gx+l.gy*l.gy),f=Math.atan2(l.gy,l.gx);A.has(c)||A.set(c,[]),A.get(c).push({...l,radial:d,angle:f})});const L=Array.from(A.keys()).sort((l,c)=>l-c);L.forEach(l=>{A.get(l).sort((c,d)=>c.radial!==d.radial?c.radial-d.radial:c.angle-d.angle)});const J=[];let x=!0;for(;x;){x=!1;for(const l of L){const c=A.get(l);!c||c.length===0||(J.push(c.shift()),x=!0)}}return J})(X),Q=nt.map(w=>Te.find(A=>A.project.id===w)).filter(w=>w&&!w.spawned),ie=Te.filter(w=>!w.spawned&&!nt.includes(w.project.id));let de=0;const ae=new Set,Me=[],pe=w=>fe(w.gx,w.gy,w.gz),Ae=(w,A)=>{for(let L=-1;L<=1;L++)for(let J=-1;J<=1;J++){if(J===0&&L===0)continue;const x=fe(w.gx+J,w.gy+L,w.gz);if(A.has(x))return!0}return!1},Qe=()=>{for(;de<Z.length;){const w=Z[de];de+=1;const A=pe(w);if(!ae.has(A)){if(Ae(w,ae)){Me.push(w);continue}return ae.add(A),w}}for(;Me.length>0;){const w=Me.shift(),A=pe(w);if(!ae.has(A))return ae.add(A),w}return null},Ne=w=>{w.forEach(A=>{if(A.spawned)return;const L=Qe();L&&(console.log("Initial spawn:",A.project.title,"at",L.gx,L.gy,L.gz),je(A,L.gx,L.gy,L.gz))})};console.log("Starting initial placement, priority pool:",Q.length,"other pool:",ie.length),Ne(Q),Ne(ie),it=!0,console.log("Initial placement done, spawned projects:",F.length)}const M=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],C=Math.round(te/ne),p=m.filter(a=>!be.has(a.key)),S=p.filter(a=>a.gz===s),P=p.filter(a=>a.gz!==s),q=S.filter(a=>a.gx===C),R=S.filter(a=>a.gx<C),N=S.filter(a=>a.gx>C),G=[];q.length&&G.push(q),R.length&&G.push(R),N.length&&G.push(N),Ye(G);const B=[];G.forEach(a=>{Ye(a),B.push(...a)});const Y=Ye([...P]);B.push(...Y);const z=new Set,b=a=>{for(const[v,X]of M){const H=fe(a.gx+v,a.gy+X,a.gz);if(be.has(H)||z.has(H))return!0}return!1};B.forEach(a=>{if(Le.length===0||b(a))return;const v=Le.shift();je(v,a.gx,a.gy,a.gz),z.add(a.key)}),at=r}const se=new Map,K=1200;function fe(t,i,n){return`${t},${i},${n}`}function At(t,i,n){const e=t*ne,o=i*le,s=n*ce;return{x:e,y:o,z:s,text:"",phase:Math.random()*Math.PI*2,changeTimer:0,isReal:!1}}function It(t){const i="!@#$%^&*()_+=-0987654321",n=Math.floor(Math.random()*8)+1;let e="";for(let o=0;o<n;o++)e+=i[Math.floor(Math.random()*i.length)];t.text=e}function St(){const t=Math.floor((te-K)/ne),i=Math.ceil((te+K)/ne),n=Math.floor((oe-K)/le),e=Math.ceil((oe+K)/le);let o=Math.ceil((re+dt)/ce);const s=Math.ceil((re+K)/ce);o>s&&(o=s);const g=[];se.forEach((h,r)=>{const[y,m,M]=r.split(",").map(Number);(y<t||y>i||m<n||m>e||M<o||M>s)&&g.push(r)}),g.forEach(h=>se.delete(h));for(let h=t;h<=i;h+=1)for(let r=n;r<=e;r+=1)for(let y=o;y<=s;y+=1){const m=fe(h,r,y);if(be.has(m)){se.delete(m);continue}!se.has(m)&&ht.has(m)&&se.set(m,At(h,r,y))}}I.addEventListener("mousedown",t=>{Ze=!0,We=t.clientX,Ve=t.clientY});let qe=-9999,$e=-9999;I.addEventListener("mousemove",t=>{const i=I.getBoundingClientRect();qe=t.clientX-i.left,$e=t.clientY-i.top,Ze&&(ze-=(t.clientX-We)*1.5,ke-=(t.clientY-Ve)*1.5,We=t.clientX,Ve=t.clientY),Tt(qe,$e)});I.addEventListener("mouseleave",()=>{qe=-9999,$e=-9999});I.addEventListener("mouseup",()=>{Ze=!1});I.addEventListener("click",t=>{if(ue!==null){ee=ue,st(D[ue]);return}Fe.classList.contains("active")&&ot()});I.addEventListener("wheel",t=>{Re+=t.deltaY*.5,t.preventDefault()},{passive:!1});function He(t){ee=t,Ee.querySelectorAll(".project-list-item").forEach((C,p)=>{C.classList.toggle("active",p===t)});const n=D[t];let e=F.find(C=>C.project===n);if(!e){console.log("Project not spawned, spawning:",n.title);const C=Te.find(p=>p.project===n);if(C&&!C.spawned){const p=Math.round(te/ne),S=Math.round(oe/le),P=Math.round((re+500)/ce);je(C,p,S,P),e=F.find(q=>q.project===n)}}if(!e){console.error("Failed to spawn project:",n.title);return}const o=450,s=I.width,h=(s-o)/2,y=s/2-h,m=200,M=y*(m/300);ze=e.x+M,ke=e.y,Re=e.z-m,st(D[t])}I.addEventListener("dblclick",()=>{ee=null,ze=0,ke=0,Re=0,lt=1,Ee.querySelectorAll(".project-list-item").forEach(i=>i.classList.remove("active"))});function Tt(t,i){ue=null;let n=1/0;F.forEach((e,o)=>{if(V!=="about"&&e.project.type!==V)return;const s=De(e.x,e.y,e.z);if(!s)return;const g=e.particles.length*8*s.scale,h=20*s.scale,r=t-s.x,y=i-s.y;if(Math.abs(r)<g/2&&Math.abs(y)<h/2){const m=Math.sqrt(r*r+y*y);m<n&&(ue=o,n=m)}}),I.style.cursor=ue!==null?"pointer":"default"}function De(t,i,n){const e=t-te,o=i-oe,s=n-re;if(s<50||s>2e3)return null;const r=300/s*Ue;return{x:I.width/2+e*r,y:I.height/2+o*r,scale:r,z:s}}function Pt(t,i,n,e,o,s){const r=200*n.scale,y=120*n.scale,m=15*n.scale,M=Math.max(8,12*n.scale),C=Math.max(10,16*n.scale),p=n.x-r/2,S=n.y+30*n.scale;t.save(),t.globalAlpha=Math.max(.2,e);const P=o?"#000":"#fff",q=o?"#fff":"#000";if(t.fillStyle=P,t.strokeStyle=q,t.lineWidth=Math.max(1,2*n.scale),t.fillRect(p,S,r,y),t.strokeRect(p,S,r,y),s){t.fillStyle=o?"#fff":"#000",t.globalAlpha=Math.max(.3,e),t.font=`bold ${C}px "Courier New"`,t.textAlign="left",t.textBaseline="top";const R=r-m*2;let N=i.title;for(;t.measureText(N).width>R&&N.length>0;)N=N.slice(0,-1);t.fillText(N,p+m,S+m),t.font=`${M*.7}px "Courier New"`,t.fillStyle=o?"#fff":"#000",t.globalAlpha=Math.max(.2,e*.6),t.fillText(i.category,p+m,S+m+C+4),t.font=`${M*.8}px "Courier New"`,t.fillStyle=o?"#fff":"#000",t.globalAlpha=Math.max(.3,e*.8);const G=S+m+C+M+8,B=M*1.2,Y=2,z=i.desc.split(" ");let b="",a=0;for(let v=0;v<z.length&&a<Y;v++){const X=b+z[v]+" ";t.measureText(X).width>R&&b!==""?(t.fillText(b.trim(),p+m,G+a*B),b=z[v]+" ",a++):b=X}a<Y&&b.trim()!==""&&t.fillText(b.trim()+"...",p+m,G+a*B)}t.restore()}function gt(){$+=.02,E.fillStyle="#fff",E.fillRect(0,0,I.width,I.height),E.font='12px "Courier New"',E.textAlign="center",E.textBaseline="middle";const t=ee!==null&&D[ee];let i=null;if(t)i=D[ee];else if(V==="game"){const e=D.filter(o=>o.type!=="game"?!1:me==="games"?!o.subtype:me==="projects"?o.subtype==="project":!0);i=e.length>0?e[0]:null}else(V==="tech"||V==="creative")&&(i=D.find(e=>e.type===V)||null);!i&&D.length>0&&(i=D[0]),ct.forEach(e=>{const o=.3+e.depth*.7,s=(Math.sin(e.baseX*.01+$*o)*3+Math.sin(e.baseY*.01+$*.7*o)*3)*o,g=.1*o;e.vx+=(e.baseX-e.x)*g,e.vy+=(e.baseY-e.y+s)*g,e.vx*=.85,e.vy*=.85,e.x+=e.vx,e.y+=e.vy;const h=e.baseAlpha+Math.sin(e.phase+$*2*o)*.03,r=10+e.depth*4;E.save(),E.globalAlpha=h,E.fillStyle="#000",E.font=`${r}px "Courier New"`,E.fillText(e.char,e.x,e.y),E.restore()}),te+=(ze-te)*.1,oe+=(ke-oe)*.1,re+=(Re-re)*.1,Ue+=(lt-Ue)*.1,St(),bt(),F.forEach((e,o)=>{const s=ut(e.x*.002,e.y*.002,e.z*.002),g=1.5;e.vx+=s.x*g,e.vy+=s.y*g,e.vz+=s.z*g;const h=.015;e.vx+=(e.baseX-e.x)*h,e.vy+=(e.baseY-e.y)*h,e.vz+=(e.baseZ-e.z)*h,e.vx*=.93,e.vy*=.93,e.vz*=.93;const r=3;e.vx=Math.max(-r,Math.min(r,e.vx)),e.vy=Math.max(-r,Math.min(r,e.vy)),e.vz=Math.max(-r,Math.min(r,e.vz)),e.x+=e.vx,e.y+=e.vy,e.z+=e.vz});const n=F.map((e,o)=>({cluster:e,i:o,projected:De(e.x,e.y,e.z)})).filter(e=>e.projected!==null).sort((e,o)=>o.projected.z-e.projected.z);Math.random()<.01&&console.log("Drawing",n.length,"clusters, total spawned:",F.length),n.forEach(({cluster:e,i:o,projected:s})=>{const g=ue===o,h=!t&&i&&e.project===i,r=t&&i&&e.project===i,y=s.z,m=450;e.spawnAlpha<e.targetAlpha&&(e.spawnAlpha=Math.min(e.spawnAlpha+.05,e.targetAlpha)),e.particles.forEach(S=>{const P=s.x+S.offsetX*s.scale,q=s.y+S.offsetY*s.scale;E.save();const R=Math.max(8,12*s.scale);E.font=g?`bold ${R}px "Courier New"`:`${R}px "Courier New"`,E.fillStyle=g?"#ff0000":"#000";const N=Math.max(.45,Math.min(1,s.scale*1.5));E.globalAlpha=N*e.spawnAlpha,E.fillText(S.char,P,q),E.restore()});const M=r||g,C=s.scale>=.35;let p;if(M)p=1;else if(h)p=.85;else{const S=Math.max(0,m-y);p=Math.max(.35,Math.min(.9,S/100))}Pt(E,e.project,s,p*e.spawnAlpha,M,C)}),se.forEach(e=>{const o=De(e.x,e.y,e.z);if(!o)return;let s=!1;for(const r of F){const y=e.x-r.x,m=e.y-r.y,M=e.z-r.z;if(Math.sqrt(y*y+m*m+M*M)<150){s=!0;break}}if(s)return;e.changeTimer-=.02,e.changeTimer<=0&&(It(e),e.changeTimer=.1+Math.random()*.3);const g=.2+Math.sin(e.phase+$*2)*.1,h=Math.max(8,12*o.scale);E.save(),E.globalAlpha=g,E.fillStyle="#000",E.font=`${h}px "Courier New"`,E.textAlign="center",E.textBaseline="middle",E.fillText(e.text,o.x,o.y),E.restore()}),requestAnimationFrame(gt)}Ke();gt();window.addEventListener("resize",()=>{ye.width=window.innerWidth,ye.height=window.innerHeight,I.width=Pe.clientWidth,I.height=Pe.clientHeight});(()=>{console.log("🚀 Loader.js starting...");const t=document.getElementById("loading-container");if(!t){console.error("❌ Loading container not found!");return}console.log("✅ Loading container found");const i=document.getElementById("starfield-canvas"),n=document.getElementById("loading-particle-canvas"),e=document.getElementById("progress-bar"),o=document.getElementById("progress-text"),s=document.getElementById("progress-title"),g=document.getElementById("content-container");g&&(g.style.opacity="0"),document.body.classList.add("loading-active");let h=0,r=0,y=!1,m=!1,M=!1;const C=setTimeout(()=>{y=!0,p()},15e3);function p(){if(M)return;const x=r>=h||y;m&&x&&J()}window.addEventListener("stellar-loader:setAssetCount",x=>{const l=Number(x.detail);!Number.isNaN(l)&&l>=0&&(h=l,r>=h&&clearTimeout(C),p())}),window.addEventListener("stellar-loader:assetLoaded",()=>{r+=1,r>=h&&clearTimeout(C),p()}),t.addEventListener("dblclick",()=>{M||(console.log("⚡ Loader skipped via double-click"),y=!0,m=!0,clearTimeout(C),e&&(e.style.width="100%"),s&&(s.textContent="SKIPPING..."),o&&(o.textContent="100%"),p())});const S=i.getContext("2d"),P=n.getContext("2d"),q=.15,R=["HELLO WORLD","I am a GAMER","I am a DEVELOPER","I am Homo Ludens","I am XIAO"];let N=0,G="",B=0,Y=0,z=[],b=[],a=[],v=[];function X(){i.width=window.innerWidth,i.height=window.innerHeight,n.width=window.innerWidth,n.height=window.innerHeight,z=[],b=[],a=[],v=[],B=Math.max(40,n.width*q),Y=0}X(),console.log("📐 Canvas dimensions:",n.width,"x",n.height),window.addEventListener("resize",()=>{X(),de(G),a=[],pe(N)});class H{constructor(){this.reset()}reset(){this.x=Math.random()*i.width,this.y=Math.random()*i.height,this.z=Math.random()*2e3,this.size=Math.random()*1.5+.5,this.opacity=Math.random()*.5+.3,this.twinkleSpeed=Math.random()*.02+.01,this.twinkleOffset=Math.random()*Math.PI*2}update(){this.z-=1,this.z<=0&&(this.reset(),this.z=2e3)}draw(l){const c=(this.x-i.width/2)*(1e3/this.z)+i.width/2,d=(this.y-i.height/2)*(1e3/this.z)+i.height/2,f=this.size*(1e3/this.z);if(c<0||c>i.width||d<0||d>i.height){this.reset();return}const _=Math.sin(l*this.twinkleSpeed+this.twinkleOffset)*.3+.7,O=this.opacity*_*(1e3/this.z);S.fillStyle=`rgba(0, 0, 0, ${O})`,S.fillRect(c,d,f,f)}}const Z=Array.from({length:200},()=>new H);class Q{constructor(l,c,d,f){this.x=l,this.y=c,this.targetX=d,this.targetY=f,this.size=Math.random()*2+1,this.opacity=0,this.targetOpacity=1}update(){const l=this.targetX-this.x,c=this.targetY-this.y,d=.06;this.x+=l*d,this.y+=c*d,this.opacity<this.targetOpacity?this.opacity=Math.min(this.opacity+.02,this.targetOpacity):this.opacity>this.targetOpacity&&(this.opacity=Math.max(this.opacity-.02,this.targetOpacity))}draw(){P.fillStyle=`rgba(0, 0, 0, ${this.opacity})`,P.fillRect(this.x,this.y,this.size,this.size)}}function ie(x,l={}){if(!x)return[];const c=Math.min(window.innerWidth/8,80);P.font=`bold ${c}px "Courier New", monospace`,P.textAlign="center",P.textBaseline="middle";const d=document.createElement("canvas"),f=d.getContext("2d"),O=P.measureText(x).width,k=c;d.width=O+40,d.height=k+40;const u=l.centerX??n.width/2,T=l.centerY??n.height/2,j=u-d.width/2,he=T-d.height/2;f.font=P.font,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff",f.fillText(x,d.width/2,d.height/2);const U=f.getImageData(0,0,d.width,d.height),we=[],Ie=4;for(let xe=0;xe<d.height;xe+=Ie)for(let ge=0;ge<d.width;ge+=Ie){const Se=(xe*d.width+ge)*4;if(U.data[Se+3]>128){const Xe=j+ge,Ce=he+xe;we.push({x:Xe,y:Ce})}}return we}function de(x){G=x;const l=n.height/2,c=Math.max(40,n.width*q),d=Math.min(window.innerWidth/8,80);if(P.font=`bold ${d}px "Courier New", monospace`,!x){B=c,Y=d*.2,z=[],b=[],a=[];return}let f=[],_=c,O=d*.2;if(x==="I am"){const u=P.measureText("I").width,T=P.measureText("am").width,j=P.measureText("I ").width,U=Math.max(0,j-u)*.75,we=ie("I",{centerX:c+u/2,centerY:l});if(we.length===0){B=c,Y=U,z=[],b=[],a=[];return}const Ie=Math.min(...we.map(W=>W.x)),xe=c-Ie,ge=we.map(W=>({x:W.x+xe,y:W.y})),Se=Math.max(...ge.map(W=>W.x)),Ge=Se+U,Xe=Ge+T/2,Ce=ie("am",{centerX:Xe,centerY:l});if(Ce.length===0){B=Se,Y=U,z=[],b=[],a=[];return}const mt=Math.min(...Ce.map(W=>W.x)),Je=Ce.map(W=>({x:W.x+(Ge-mt),y:W.y})),ft=Math.max(...Je.map(W=>W.x));f=ge.concat(Je),_=ft,O=U}else{const u=ie(x,{centerX:n.width/2,centerY:l});if(u.length===0){B=c,Y=O,z=[],b=[],a=[];return}const T=Math.min(...u.map(U=>U.x)),j=Math.max(...u.map(U=>U.x)),he=c-T;f=u.map(U=>({x:U.x+he,y:U.y})),_=j+he}z.length!==f.length?z=f.map(u=>{const T=new Q(n.width/2,n.height/2,u.x,u.y);return T.opacity=0,T.targetOpacity=1,T}):z.forEach((u,T)=>{const j=f[T];u.targetX=j.x,u.targetY=j.y,u.targetOpacity=1}),B=_,Y=O,a=[],b=[]}function ae(){if(G!=="I am"){a=[],b=[];return}const x=n.height/2,l=ie("a",{centerX:n.width/2,centerY:x});if(l.length===0){a=[],b=[];return}const c=Math.min(...l.map(k=>k.x)),d=Math.min(window.innerWidth/8,80),f=Y>0?Y:d*.2,O=B+f-c;a=l.map(k=>({x:k.x+O,y:k.y})),b.length!==a.length?b=a.map(k=>{const u=new Q(n.width/2,n.height/2,k.x,k.y);return u.opacity=0,u.targetOpacity=0,u}):b.forEach((k,u)=>{const T=a[u];k.targetX=T.x,k.targetY=T.y})}function Me(x){if(G!=="I am"){b.forEach(l=>{l.targetOpacity=0});return}a.length===0&&ae(),a.length!==0&&b.forEach((l,c)=>{const d=a[c];l.targetX=d.x,l.targetY=d.y,l.targetOpacity=x?1:0})}function pe(x){if(x>=R.length)return;const l=R[x];let c="",d=!1;l.startsWith("I am a ")?(c="I am",d=!0):l.startsWith("I am ")&&(c="I am"),(c!==G||z.length===0)&&de(c),c==="I am"&&a.length===0&&ae(),Me(d);const f=d?7:c==="I am"?5:0,_=f>0?l.slice(f).trimStart():l,O=ie(_,{centerX:n.width/2,centerY:n.height/2}),k=[];for(let u=0;u<O.length;u+=1){let T,j;u<v.length?(T=v[u].x,j=v[u].y):(T=n.width/2,j=n.height/2);const he=new Q(T,j,O[u].x,O[u].y);k.push(he)}for(let u=O.length;u<v.length;u+=1){const T=new Q(v[u].x,v[u].y,n.width/2,n.height/2);T.opacity=.5,k.push(T)}v=k,s&&(s.style.opacity="0",setTimeout(()=>{s.textContent=l,s.style.opacity="1"},250))}let Ae=Date.now();const w=1500+500;let A=!0;function L(){if(!A)return;const l=Date.now()-Ae,c=Math.min(Math.floor(l/w),R.length-1);c!==N&&(N=c,console.log("🎬 Showing title",c,":",R[c],"at",l.toFixed(0),"ms"),pe(N)),S.fillStyle="rgba(255, 255, 255, 1)",S.fillRect(0,0,i.width,i.height),P.clearRect(0,0,n.width,n.height),Z.forEach(f=>{f.update(),f.draw(l*.001)}),z.forEach(f=>{f.update(),f.draw()}),b.forEach(f=>{f.update(),f.draw()}),v.forEach(f=>{f.update(),f.draw()});const d=Math.min(l/(w*R.length)*100,100);e&&(e.style.width=`${d}%`),o&&(o.textContent=`${Math.round(d)}%`,o.style.opacity="1"),d>=100&&!m&&(m=!0,p()),requestAnimationFrame(L)}function J(){if(M)return;M=!0,A=!1;const x=Date.now()-Ae;console.log("✅ Loader complete! Showing portfolio page at",x.toFixed(0),"ms"),t.style.transition="opacity 0.8s ease-out",t.style.opacity="0",g&&(g.style.transition="opacity 0.8s ease-in",g.style.opacity="1"),setTimeout(()=>{t.classList.add("hidden")},800)}de(G),console.log("🎬 Starting animation with title 0:",R[0]),pe(0),L(),console.log("✨ Animation loop started")})();

import"./modulepreload-polyfill-B5Qt9EMX.js";const z=[{id:"stellarune",title:"STELLARUNE",category:"GAME DESIGN",type:"game",desc:"A unique action strategy game where players use dice to cast magic spells while engaging in real-time, grid-based combat.",fullDesc:"Stellarune is a unique action strategy game where players use dice to cast magic spells while engaging in real-time, grid-based combat. Here, magic is a power bestowed from the stars and where the essence of a soul manifests in the form of dice. Players receive dice faces with magic spells inscribed on them from defeating foes and can use them to customize dice to suit their individual playstyle. Of these spells, they fall into unique classes that have certain class abilities and archetypes. Currently, available classes are Aether (Neutral), Ignist (Fire), and Tempest (Lightning).",meta:{role:"Project Manager, Game Designer, Lead Programmer, Technical Artist, Concept Artist","developed by":"Mergician Productions","team size":"Total: 15 (Core: Zhixuan Xiao, Harith Reef Liew, Eric Ni, Kirby Neo, May Li)",contribution:"Game Mechanics, Prototype, Visual Scripting, C++ Programming, Perforce Version Control, Project Management, Tools programming, PyQt GUI design, AWS Dedicated Multiplayer Server, 3D&2D animation, Rigging, Concept Art, GDC Exhibition, Funding, Pitch & Presentations",engine:"Unreal Engine 5",year:"2022-2023"},tags:["UE5","C++","Multiplayer"],connections:["dice-gen","vfx-system"]},{id:"cyber-cipher",title:"CYBER CIPHER",category:"GAME DESIGN",type:"game",desc:"Award-winning 2.5D action game about a computer bug navigating through firewalls.",fullDesc:"Award-winning 2.5D action game about a computer bug who must dodge hazards and security firewalls as they try to corrupt the User's programming files. Created for the 2023 Global Game Jam with the support of Coexist Gamelab.",meta:{award:"Global Game Jam 2023",role:"Game Designer, Programmer",year:"2023"},tags:["Unity","C#","GGJ"],connections:["high-noon"]},{id:"dice-gen",title:"DICE FACE GEN",category:"TECHNICAL ART",type:"tech",desc:"Python script for Maya converting 2D images into 3D dice face models.",fullDesc:"Python script interacting with Autodesk Maya to convert 2D images into 3D models with specific modifications. The script includes a GUI creation function with an interface designed in PyQt. A button in the GUI triggers the 3D model creation process using user-provided values.",meta:{tools:"Python, Maya, PyQt",purpose:"Stellarune Pipeline Tool",year:"2022"},tags:["Python","Maya","Pipeline"],connections:["stellarune","vfx-system"]},{id:"vfx-system",title:"VFX SYSTEM",category:"TECHNICAL ART",type:"tech",desc:"Dynamic Niagara particle system with user parameters for real-time control.",fullDesc:"Niagara System using User Parameters to control VFX transform and animation, accessible from any Actor Blueprint. The system is configured to adjust sprite size, orientation, and color. A unique aspect is the capacity to modify system parameters externally, allowing for dynamic particle spawn and transform changes.",meta:{engine:"Unreal Engine 5",type:"Niagara System",year:"2023"},tags:["UE5","Niagara","VFX"],connections:["stellarune","procedural"]},{id:"procedural",title:"RIG & PROCEDURAL ANIMATION",category:"TECHNICAL ART",type:"tech",desc:"Unity C# script for procedural animation using Inverse Kinematics.",fullDesc:"Procedural Animation made with Unity Animation Rigging package. Character rigged in Blender with a C# script for Procedural Animation in the Unity Engine. The script includes adjustable parameters for different movement styles including stepDistance, stepHeight, and stepSpeed. Utilizes Inverse Kinematics to ensure fluid limb movement. The rigging process involves creating a skeleton that accurately mirrors articulation, with custom curves and weight painting for realistic deformation.",meta:{tools:"C# script, Inverse Kinematics, Blender, Unity Engine",features:"IK, Animation Rigging, Procedural Animation, Raycast & Gizmos",year:"2023"},tags:["Unity","C#","IK","Rigging"],connections:["vfx-system","ocean"]},{id:"anim-state",title:"ANIMATION STATE MACHINE",category:"TECHNICAL ART",type:"tech",desc:"UE5 Animation Blueprint controlling dice model behavior with state transitions.",fullDesc:'Animation Blueprint system for controlling die model behavior using an integer variable "Face". If the value is between 1-6, the die rolls to that specific face. If 0 or 7+, the die maintains perpetual rolling animation. System starts from a conduit state and transitions to one of six states, each linked to a specific dice face.',meta:{engine:"Unreal Engine 5",purpose:"Stellarune Animation System",year:"2022"},tags:["UE5","Animation","Blueprint"],connections:["stellarune"]},{id:"fireworks",title:"FIREWORKS VFX",category:"TECHNICAL ART",type:"tech",desc:"Particle effect system for fireworks visualization.",fullDesc:"Unreal Engine 5 Niagara particle system designed specifically for fireworks visualization with realistic explosion patterns and particle behavior.",meta:{engine:"Unreal Engine 5",type:"Niagara System",year:"2023"},tags:["UE5","Niagara","VFX"],connections:["vfx-system"]},{id:"procgen-crystals",title:"PROCGEN CRYSTALS",category:"TECHNICAL ART",type:"tech",desc:"Procedurally generated crystal system.",fullDesc:"Procedural crystal generation system using Unreal Engine with dynamic geometry and material properties.",meta:{engine:"Unreal Engine",type:"Procedural Generation",year:"2023"},tags:["UE5","Procedural","3D"],connections:["vfx-system"]},{id:"text-converter",title:"TEXT-IMAGE CONVERTER",category:"TECHNICAL ART",type:"tech",desc:"Python tool for text and image processing.",fullDesc:"Converter tool for text/image processing built with Python, enabling seamless conversion between text and image formats.",meta:{tools:"Python",type:"Utility Tool",year:"2023"},tags:["Python","Tool","Utility"],connections:[]},{id:"ocean",title:"OCEAN",category:"CREATIVE",type:"creative",desc:"Blender 3D environment design exploring underwater themes.",fullDesc:"Blender 3D environment design exploring underwater themes and atmospheric lighting techniques. This piece explores the intersection of technical skill and artistic vision, using procedural shaders and particle systems.",meta:{medium:"Blender 3D",year:"2023"},tags:["Blender","3D","Environment"],connections:["procedural"]},{id:"untitled",title:"UNTITLED",category:"CREATIVE",type:"creative",desc:"Blender 3D artwork.",fullDesc:"An experimental 3D piece created in Blender exploring form and space.",meta:{medium:"Blender",year:"2023"},tags:["Blender","3D"],connections:[]},{id:"unattainable-dream",title:"UNATTAINABLE DREAM",category:"CREATIVE",type:"creative",desc:"Blender 3D artwork exploring dreams and aspirations.",fullDesc:"A contemplative 3D piece created in Blender that explores themes of unattainable dreams and aspirations.",meta:{medium:"Blender",year:"2023"},tags:["Blender","3D","Conceptual"],connections:[]},{id:"drifter",title:"DRIFTER",category:"CREATIVE",type:"creative",desc:"VR artwork created with Gravity Sketch and Quill.",fullDesc:"Virtual reality artwork created using Gravity Sketch and Quill VR, exploring spatial design and immersive art creation.",meta:{medium:"Gravity Sketch, Quill VR",year:"2021"},tags:["VR","3D","Immersive"],connections:[]},{id:"eternal-love",title:"ETERNAL LOVE",category:"CREATIVE",type:"creative",desc:"Mixed media artwork combining ink, origami paper, and Python.",fullDesc:"A unique mixed media piece that combines traditional materials (ink and origami paper) with computational art created using Python.",meta:{medium:"Ink, Origami Paper, Python",year:"2023"},tags:["Mixed Media","Python","Traditional"],connections:[]},{id:"sketch-210413",title:"SKETCH 210413",category:"CREATIVE",type:"creative",desc:"Web-based interactive sketch.",fullDesc:"An interactive web-based sketch created using HTML, CSS, and Javascript, exploring digital art and interaction design.",meta:{medium:"HTML, CSS, Javascript",year:"2023"},tags:["Web","Interactive","Code Art"],connections:[]},{id:"skull-red-cloth",title:"SKULL ON RED CLOTH",category:"CREATIVE",type:"creative",desc:"Traditional pastel artwork.",fullDesc:"A traditional art piece created with pastels on pastel paper, depicting a skull on red cloth.",meta:{medium:"Pastel, Pastel Paper",year:"2020"},tags:["Traditional","Pastel","Drawing"],connections:[]},{id:"high-noon",title:"HIGH NOON",category:"GAME DESIGN",type:"game",desc:"4-player competitive strategy board game with western duel mechanics.",fullDesc:"High Noon at Blackmeadow is a 4 player competitive strategy game designed to bring the western duel alive on a board. It incorporated an exhilarating experience challenging both the players' physical reflex and their strategic planning.",meta:{type:"Board Game",players:"4",year:"2022"},tags:["Board Game","Strategy"],connections:["cyber-cipher"]},{id:"godzilla",title:"GODZILLA SIMULATOR",category:"GAME DESIGN",type:"game",desc:"Search and rescue game where you relive memories of Godzilla attack survivors.",fullDesc:"Relive the memories of those who suffered during the Godzilla attack. Acting as a GEMA volunteer, search and rescue the damaged area and discover the hidden truth.",meta:{role:"Game Designer",type:"Simulation"},tags:["Unity","Simulation"],connections:[]},{id:"idyllia",title:"IDYLLIA",category:"GAME DESIGN",type:"game",desc:"A short downloadable puzzle game where your garden grows as you solve puzzles.",fullDesc:"Idyllia is a short downloadable puzzle game for Windows and macOS. The player solves tile-based puzzles, and for each puzzle solved, the garden grows larger and lusher. The garden, however, is greedy for life. Where will that greed take it?",meta:{platform:"Windows, macOS",type:"Puzzle Game"},tags:["Puzzle","Downloadable"],connections:[]},{id:"roomba-out",title:"ROOMBA OUT!",category:"GAME DESIGN",type:"game",desc:"Strategy game where you control a Shiba Inu to guide a Roomba out of the house.",fullDesc:'Roomba OUT! is a strategy game where the player needs to control the Shiba Inu to "guide" the Roomba out of the house, based on the fact that the idiot robot can only turn right when facing obstacles.',meta:{type:"Strategy Puzzle"},tags:["Strategy","Puzzle"],connections:[]},{id:"one-more-floor",title:"ONE MORE FLOOR",category:"GAME DESIGN",type:"game",desc:"Horror survival game in a desolate, dark, ravaged world.",fullDesc:"A desolate, dark, ravaged world. Overrun. Lost. These creatures are everywhere, lurking around every corner, every shadow, where light cannot find them. Play as a child stuck in this building, cornered by mysterious, terrifying creatures, as he must fight his way to survival and to freedom!",meta:{type:"Horror Survival"},tags:["Horror","Survival"],connections:[]},{id:"antiquity",title:"ANTIQUITY'S LOCUS",category:"GAME DESIGN",type:"game",desc:"Narrative game exploring LGBTQ+ themes during the AIDS crisis.",fullDesc:"Teresa had a few acquaintances in Mason City prior to the accident, but being an out lesbian during the aids crisis in a suburban town of only 30,000 people doesn't leave you with a particularly massive support network.",meta:{type:"Narrative Game"},tags:["Narrative","LGBTQ+"],connections:[]},{id:"free-fall",title:"FREE FALL 2",category:"GAME DESIGN",type:"game",desc:"A relaxation and freedom themed experience.",fullDesc:"Take a breath, relax, go for a walk, free fall... or do whatever makes you feel free and emancipate. Take care of yourselves out there, you are beautiful ðŸŒˆ",meta:{type:"Relaxation Experience"},tags:["Relaxation","Experience"],connections:[]},{id:"sayhelp",title:"SAYHELP",category:"GAME DESIGN",type:"game",desc:"Philosophical narrative game.",fullDesc:"In the center of the pine wood called Coilla Doraca there lived not long ago two Philosophers. They were wiser than anything else in the world except the Salmon who lies in the pool of Glyn Cagny into which the nuts of knowledge fall from the hazel bush on its bank.",meta:{type:"Narrative Game"},tags:["Narrative","Philosophy"],connections:[]},{id:"wheelchair-vr",title:"WHEELCHAIR SIMULATION VR",category:"VR PROJECT",type:"game",subtype:"project",desc:"Virtual reality wheelchair simulation experience.",fullDesc:"An immersive VR experience that simulates wheelchair navigation, designed to build empathy and understanding.",meta:{platform:"VR",type:"Simulation"},tags:["VR","Simulation","Accessibility"],connections:[]}],et=document.querySelectorAll("#filters button"),Ze=document.getElementById("detail-panel"),ye=document.getElementById("content-particle-canvas"),He=ye.getContext("2d"),Me=document.getElementById("project-list");ye.width=window.innerWidth;ye.height=window.innerHeight;let U="game",me="all",te=null;function Qe(){if(Me.innerHTML="",U==="game"){const t=z.filter(n=>n.type==="game"&&!n.subtype),i=z.filter(n=>n.type==="game"&&n.subtype==="project");(me==="all"||me==="games")&&t.forEach((n,e)=>{const o=z.indexOf(n),a=document.createElement("div");a.className="project-list-item",a.dataset.index=o,a.dataset.type=n.type,a.innerHTML=`
                            <div class="title">${n.title}</div>
                            <div class="cat">${n.category}</div>
                        `,a.addEventListener("click",()=>We(o)),Me.appendChild(a)}),(me==="all"||me==="projects")&&i.forEach((n,e)=>{const o=z.indexOf(n),a=document.createElement("div");a.className="project-list-item",a.dataset.index=o,a.dataset.type=n.type,a.innerHTML=`
                            <div class="title">${n.title}</div>
                            <div class="cat">${n.category}</div>
                        `,a.addEventListener("click",()=>We(o)),Me.appendChild(a)})}else z.forEach((t,i)=>{if(U==="about"||t.type===U){const n=document.createElement("div");n.className="project-list-item",n.dataset.index=i,n.dataset.type=t.type,n.innerHTML=`
                            <div class="title">${t.title}</div>
                            <div class="cat">${t.category}</div>
                        `,n.addEventListener("click",()=>We(i)),Me.appendChild(n)}})}et.forEach(t=>{t.addEventListener("click",()=>{U=t.dataset.filter,et.forEach(n=>n.classList.remove("active")),t.classList.add("active");const i=document.getElementById("works-subfilter");U==="game"?(i.style.display="flex",document.getElementById("sidebar-title").textContent="WORKS"):U==="tech"?(i.style.display="none",document.getElementById("sidebar-title").textContent="TECHNICAL"):U==="creative"?(i.style.display="none",document.getElementById("sidebar-title").textContent="CREATIVE"):(i.style.display="none",document.getElementById("sidebar-title").textContent="ABOUT"),Qe()})});const tt=document.querySelectorAll(".subfilter-btn");tt.forEach(t=>{t.addEventListener("click",()=>{me=t.dataset.subfilter,tt.forEach(i=>{i.classList.remove("active"),i.style.opacity="0.5"}),t.classList.add("active"),t.style.opacity="1",Qe()})});function ot(t){document.getElementById("detail-title").textContent=t.title,document.getElementById("detail-category").textContent=t.category,document.getElementById("detail-desc").textContent=t.fullDesc;const i=document.getElementById("detail-action");t.id==="stellarune"?i.innerHTML='<a href="stellarune.html" class="view-full-btn">VIEW FULL PROJECT â†’</a>':i.innerHTML="";const n=Object.entries(t.meta).map(([e,o])=>`<div class="meta-item"><strong>${e.toUpperCase()}</strong>${o}</div>`).join("");document.getElementById("detail-meta").innerHTML=n,Ze.classList.add("active")}function rt(){Ze.classList.remove("active"),te=null}document.querySelector("#detail-panel .close").addEventListener("click",()=>{rt()});const Ye=[];function lt(){He.clearRect(0,0,ye.width,ye.height);for(let t=Ye.length-1;t>=0;t--){const i=Ye[t];if(i.x+=i.vx,i.y+=i.vy,i.life-=.02,i.life<=0){Ye.splice(t,1);continue}He.fillStyle=`rgba(0, 0, 0, ${i.life})`,He.fillRect(i.x,i.y,i.size,i.size)}requestAnimationFrame(lt)}lt();const I=document.getElementById("constellation-canvas"),M=I.getContext("2d"),De=document.getElementById("main-container");let ne=0,se=0,oe=0,ke=0,Ne=0,Ge=0,Ve=1,ct=1,Je=!1,je=0,qe=0,ue=null,F=0;function Ee(t,i,n){const m=Math.sin(t*.08+F*.3)*Math.cos(i*.08+F*.2),c=Math.sin(i*.15-F*.25)*Math.cos(n*.15+F*.15),r=Math.sin(n*.05+F*.2)*Math.cos(t*.05-F*.1);return(m+c+r)/3}function yt(t,i,n){const o=Ee(t,i+.1,n),a=Ee(t,i-.1,n),m=Ee(t,i,n+.1),c=Ee(t,i,n-.1),r=Ee(t+.1,i,n),y=Ee(t-.1,i,n);return{x:o-a-(r-y),y:m-c-(o-a),z:r-y-(m-c)}}I.width=De.clientWidth;I.height=De.clientHeight;const nt=["~","-","_",".","Â·","Ë™"],dt=[],pt=Math.floor(I.width/12),wt=Math.floor(I.height/16);for(let t=0;t<wt;t++)for(let i=0;i<pt;i++){const n=i*12,e=t*16,o=Math.random();dt.push({x:n,y:e,baseX:n,baseY:e,vx:0,vy:0,char:nt[Math.floor(Math.random()*nt.length)],phase:Math.random()*Math.PI*2,depth:o,baseAlpha:.05+o*.15})}const ie=300,re=300,le=300,ht=50;function Ue(t){for(let i=t.length-1;i>0;i-=1){const n=Math.floor(Math.random()*(i+1));[t[i],t[n]]=[t[n],t[i]]}return t}const $=[],it=["stellarune","fireworks"];let at=!1;const ze=[],Ae=new Map;let st=new Set,gt=new Set;const xt=z.filter(t=>t.type==="game"),vt=z.filter(t=>t.type==="tech"),Et=z.filter(t=>t.type==="creative"),Mt=[...xt,...vt,...Et],Le=Mt.map(t=>({project:t,spawned:!1,gridX:null,gridY:null,gridZ:null}));function Fe(t,i,n,e){const o=i*ie,a=n*re,m=e*le,c=[],r=t.project.title,y=8,u=-(r.length*y)/2;for(let x=0;x<r.length;x++)c.push({char:r[x],offsetX:u+x*y,offsetY:0});const C={x:o,y:a,z:m,baseX:o,baseY:a,baseZ:m,vx:0,vy:0,vz:0,particles:c,project:t.project,isReal:!0,projectData:t,spawnAlpha:0,targetAlpha:1};$.push(C),t.spawned=!0,t.gridX=i,t.gridY=n,t.gridZ=e;const E=fe(i,n,e);return ae.delete(E),Ae.set(E,t),C}function Ct(t){const i=$.findIndex(e=>e.projectData===t);if(i===-1)return;const[n]=$.splice(i,1);if(t.spawned=!1,t.gridX!==null){const e=fe(t.gridX,t.gridY,t.gridZ);Ae.delete(e),ae.delete(e)}n&&(n.spawnAlpha=0),ze.includes(t)||ze.push(t)}function bt(t,i,n){const e=t*ie,o=i*re,a=n*le;return Re(e,o,a)}function At(){const t=Math.floor((ne-Z)/ie),i=Math.ceil((ne+Z)/ie),n=Math.floor((se-Z)/re),e=Math.ceil((se+Z)/re);let o=Math.ceil((oe+ht)/le);const a=Math.ceil((oe+Z)/le);o>a&&(o=a),Le.forEach(s=>{if(s.spawned){if(te!==null&&z[te]===s.project)return;(s.gridX<t||s.gridX>i||s.gridY<n||s.gridY>e||s.gridZ<o||s.gridZ>a)&&Ct(s)}});const m=[];for(let s=t;s<=i;s++)for(let f=n;f<=e;f++)for(let T=o;T<=a;T++){const G=bt(s,f,T);if(!G)continue;const Q=40;if(G.x<-Q||G.x>I.width+Q||G.y<-Q||G.y>I.height+Q)continue;const pe=fe(s,f,T);m.push({key:pe,gx:s,gy:f,gz:T,distance:G.z})}const c=[...m].sort((s,f)=>s.distance-f.distance),r=new Set(c.map(s=>s.key)),y=c.filter(s=>!st.has(s.key)),u=y.filter(s=>s.gx===t||s.gx===i||s.gy===n||s.gy===e||s.gz===o||s.gz===a);if(gt=new Set(y.map(s=>s.key)),!at){const s=Math.min(Math.max(5,Math.floor(c.length*.2)),Math.max(0,c.length-1)),f=Math.max(0,c.length-s),T=c.slice(0,f),Q=(v=>{const A=new Map;v.forEach(d=>{const l=d.gz,h=Math.sqrt(d.gx*d.gx+d.gy*d.gy),g=Math.atan2(d.gy,d.gx);A.has(l)||A.set(l,[]),A.get(l).push({...d,radial:h,angle:g})});const D=Array.from(A.keys()).sort((d,l)=>d-l);D.forEach(d=>{A.get(d).sort((l,h)=>l.radial!==h.radial?l.radial-h.radial:l.angle-h.angle)});const K=[];let de=!0;for(;de;){de=!1;for(const d of D){const l=A.get(d);!l||l.length===0||(K.push(l.shift()),de=!0)}}return K})(T),pe=it.map(v=>Le.find(A=>A.project.id===v)).filter(v=>v&&!v.spawned),ce=Le.filter(v=>!v.spawned&&!it.includes(v.project.id));let J=0;const _=new Set,we=[],Ie=v=>fe(v.gx,v.gy,v.gz),Ce=(v,A)=>{for(let D=-1;D<=1;D++)for(let K=-1;K<=1;K++){if(K===0&&D===0)continue;const de=fe(v.gx+K,v.gy+D,v.gz);if(A.has(de))return!0}return!1},Te=()=>{for(;J<Q.length;){const v=Q[J];J+=1;const A=Ie(v);if(!_.has(A)){if(Ce(v,_)){we.push(v);continue}return _.add(A),v}}for(;we.length>0;){const v=we.shift(),A=Ie(v);if(!_.has(A))return _.add(A),v}return null},Be=v=>{v.forEach(A=>{if(A.spawned)return;const D=Te();D&&(console.log("Initial spawn:",A.project.title,"at",D.gx,D.gy,D.gz),Fe(A,D.gx,D.gy,D.gz))})};console.log("Starting initial placement, priority pool:",pe.length,"other pool:",ce.length),Be(pe),Be(ce),at=!0,console.log("Initial placement done, spawned projects:",$.length)}const C=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],E=Math.round(ne/ie),x=u.filter(s=>!Ae.has(s.key)),b=x.filter(s=>s.gz===a),W=x.filter(s=>s.gz!==a),S=b.filter(s=>s.gx===E),q=b.filter(s=>s.gx<E),R=b.filter(s=>s.gx>E),O=[];S.length&&O.push(S),q.length&&O.push(q),R.length&&O.push(R),Ue(O);const X=[];O.forEach(s=>{Ue(s),X.push(...s)});const V=Ue([...W]);X.push(...V);const N=new Set,L=s=>{for(const[f,T]of C){const G=fe(s.gx+f,s.gy+T,s.gz);if(Ae.has(G)||N.has(G))return!0}return!1};X.forEach(s=>{if(ze.length===0||L(s))return;const f=ze.shift();Fe(f,s.gx,s.gy,s.gz),N.add(s.key)}),st=r}const ae=new Map,Z=1200;function fe(t,i,n){return`${t},${i},${n}`}function It(t,i,n){const e=t*ie,o=i*re,a=n*le;return{x:e,y:o,z:a,text:"",phase:Math.random()*Math.PI*2,changeTimer:0,isReal:!1}}function Tt(t){const i="!@#$%^&*()_+=-0987654321",n=Math.floor(Math.random()*8)+1;let e="";for(let o=0;o<n;o++)e+=i[Math.floor(Math.random()*i.length)];t.text=e}function St(){const t=Math.floor((ne-Z)/ie),i=Math.ceil((ne+Z)/ie),n=Math.floor((se-Z)/re),e=Math.ceil((se+Z)/re);let o=Math.ceil((oe+ht)/le);const a=Math.ceil((oe+Z)/le);o>a&&(o=a);const m=[];ae.forEach((c,r)=>{const[y,u,C]=r.split(",").map(Number);(y<t||y>i||u<n||u>e||C<o||C>a)&&m.push(r)}),m.forEach(c=>ae.delete(c));for(let c=t;c<=i;c+=1)for(let r=n;r<=e;r+=1)for(let y=o;y<=a;y+=1){const u=fe(c,r,y);if(Ae.has(u)){ae.delete(u);continue}!ae.has(u)&&gt.has(u)&&ae.set(u,It(c,r,y))}}I.addEventListener("mousedown",t=>{Je=!0,je=t.clientX,qe=t.clientY});let $e=-9999,Ke=-9999;I.addEventListener("mousemove",t=>{const i=I.getBoundingClientRect();$e=t.clientX-i.left,Ke=t.clientY-i.top,Je&&(ke-=(t.clientX-je)*1.5,Ne-=(t.clientY-qe)*1.5,je=t.clientX,qe=t.clientY),Pt($e,Ke)});I.addEventListener("mouseleave",()=>{$e=-9999,Ke=-9999});I.addEventListener("mouseup",()=>{Je=!1});I.addEventListener("click",t=>{if(ue!==null){te=ue,ot(z[ue]);return}Ze.classList.contains("active")&&rt()});I.addEventListener("wheel",t=>{Ge+=t.deltaY*.5,t.preventDefault()},{passive:!1});function We(t){te=t,Me.querySelectorAll(".project-list-item").forEach((E,x)=>{E.classList.toggle("active",x===t)});const n=z[t];let e=$.find(E=>E.project===n);if(!e){console.log("Project not spawned, spawning:",n.title);const E=Le.find(x=>x.project===n);if(E&&!E.spawned){const x=Math.round(ne/ie),b=Math.round(se/re),W=Math.round((oe+500)/le);Fe(E,x,b,W),e=$.find(S=>S.project===n)}}if(!e){console.error("Failed to spawn project:",n.title);return}const o=450,a=I.width,c=(a-o)/2,y=a/2-c,u=200,C=y*(u/300);ke=e.x+C,Ne=e.y,Ge=e.z-u,ot(z[t])}I.addEventListener("dblclick",()=>{te=null,ke=0,Ne=0,Ge=0,ct=1,Me.querySelectorAll(".project-list-item").forEach(i=>i.classList.remove("active"))});function Pt(t,i){ue=null;let n=1/0;$.forEach((e,o)=>{if(U!=="about"&&e.project.type!==U)return;const a=Re(e.x,e.y,e.z);if(!a)return;const m=e.particles.length*8*a.scale,c=20*a.scale,r=t-a.x,y=i-a.y;if(Math.abs(r)<m/2&&Math.abs(y)<c/2){const u=Math.sqrt(r*r+y*y);u<n&&(ue=o,n=u)}}),I.style.cursor=ue!==null?"pointer":"default"}function Re(t,i,n){const e=t-ne,o=i-se,a=n-oe;if(a<50||a>2e3)return null;const r=300/a*Ve;return{x:I.width/2+e*r,y:I.height/2+o*r,scale:r,z:a}}function Lt(t,i,n,e,o,a){const r=200*n.scale,y=120*n.scale,u=15*n.scale,C=Math.max(8,12*n.scale),E=Math.max(10,16*n.scale),x=n.x-r/2,b=n.y+30*n.scale;t.save(),t.globalAlpha=Math.max(.2,e);const W=o?"#000":"#fff",S=o?"#fff":"#000";if(t.fillStyle=W,t.strokeStyle=S,t.lineWidth=Math.max(1,2*n.scale),t.fillRect(x,b,r,y),t.strokeRect(x,b,r,y),a){t.fillStyle=o?"#fff":"#000",t.globalAlpha=Math.max(.3,e),t.font=`bold ${E}px "Courier New"`,t.textAlign="left",t.textBaseline="top";const q=r-u*2;let R=i.title;for(;t.measureText(R).width>q&&R.length>0;)R=R.slice(0,-1);t.fillText(R,x+u,b+u),t.font=`${C*.7}px "Courier New"`,t.fillStyle=o?"#fff":"#000",t.globalAlpha=Math.max(.2,e*.6),t.fillText(i.category,x+u,b+u+E+4),t.font=`${C*.8}px "Courier New"`,t.fillStyle=o?"#fff":"#000",t.globalAlpha=Math.max(.3,e*.8);const O=b+u+E+C+8,X=C*1.2,V=2,N=i.desc.split(" ");let L="",s=0;for(let f=0;f<N.length&&s<V;f++){const T=L+N[f]+" ";t.measureText(T).width>q&&L!==""?(t.fillText(L.trim(),x+u,O+s*X),L=N[f]+" ",s++):L=T}s<V&&L.trim()!==""&&t.fillText(L.trim()+"...",x+u,O+s*X)}t.restore()}function mt(){F+=.02,M.fillStyle="#fff",M.fillRect(0,0,I.width,I.height),M.font='12px "Courier New"',M.textAlign="center",M.textBaseline="middle";const t=te!==null&&z[te];let i=null;if(t)i=z[te];else if(U==="game"){const e=z.filter(o=>o.type!=="game"?!1:me==="games"?!o.subtype:me==="projects"?o.subtype==="project":!0);i=e.length>0?e[0]:null}else(U==="tech"||U==="creative")&&(i=z.find(e=>e.type===U)||null);!i&&z.length>0&&(i=z[0]),dt.forEach(e=>{const o=.3+e.depth*.7,a=(Math.sin(e.baseX*.01+F*o)*3+Math.sin(e.baseY*.01+F*.7*o)*3)*o,m=.1*o;e.vx+=(e.baseX-e.x)*m,e.vy+=(e.baseY-e.y+a)*m,e.vx*=.85,e.vy*=.85,e.x+=e.vx,e.y+=e.vy;const c=e.baseAlpha+Math.sin(e.phase+F*2*o)*.03,r=10+e.depth*4;M.save(),M.globalAlpha=c,M.fillStyle="#000",M.font=`${r}px "Courier New"`,M.fillText(e.char,e.x,e.y),M.restore()}),ne+=(ke-ne)*.1,se+=(Ne-se)*.1,oe+=(Ge-oe)*.1,Ve+=(ct-Ve)*.1,St(),At(),$.forEach((e,o)=>{const a=yt(e.x*.002,e.y*.002,e.z*.002),m=1.5;e.vx+=a.x*m,e.vy+=a.y*m,e.vz+=a.z*m;const c=.015;e.vx+=(e.baseX-e.x)*c,e.vy+=(e.baseY-e.y)*c,e.vz+=(e.baseZ-e.z)*c,e.vx*=.93,e.vy*=.93,e.vz*=.93;const r=3;e.vx=Math.max(-r,Math.min(r,e.vx)),e.vy=Math.max(-r,Math.min(r,e.vy)),e.vz=Math.max(-r,Math.min(r,e.vz)),e.x+=e.vx,e.y+=e.vy,e.z+=e.vz});const n=$.map((e,o)=>({cluster:e,i:o,projected:Re(e.x,e.y,e.z)})).filter(e=>e.projected!==null).sort((e,o)=>o.projected.z-e.projected.z);Math.random()<.01&&console.log("Drawing",n.length,"clusters, total spawned:",$.length),n.forEach(({cluster:e,i:o,projected:a})=>{const m=ue===o,c=!t&&i&&e.project===i,r=t&&i&&e.project===i,y=a.z,u=450;e.spawnAlpha<e.targetAlpha&&(e.spawnAlpha=Math.min(e.spawnAlpha+.05,e.targetAlpha)),e.particles.forEach(b=>{const W=a.x+b.offsetX*a.scale,S=a.y+b.offsetY*a.scale;M.save();const q=Math.max(8,12*a.scale);M.font=m?`bold ${q}px "Courier New"`:`${q}px "Courier New"`,M.fillStyle=m?"#ff0000":"#000";const R=Math.max(.45,Math.min(1,a.scale*1.5));M.globalAlpha=R*e.spawnAlpha,M.fillText(b.char,W,S),M.restore()});const C=r||m,E=a.scale>=.35;let x;if(C)x=1;else if(c)x=.85;else{const b=Math.max(0,u-y);x=Math.max(.35,Math.min(.9,b/100))}Lt(M,e.project,a,x*e.spawnAlpha,C,E)}),ae.forEach(e=>{const o=Re(e.x,e.y,e.z);if(!o)return;let a=!1;for(const r of $){const y=e.x-r.x,u=e.y-r.y,C=e.z-r.z;if(Math.sqrt(y*y+u*u+C*C)<150){a=!0;break}}if(a)return;e.changeTimer-=.02,e.changeTimer<=0&&(Tt(e),e.changeTimer=.1+Math.random()*.3);const m=.2+Math.sin(e.phase+F*2)*.1,c=Math.max(8,12*o.scale);M.save(),M.globalAlpha=m,M.fillStyle="#000",M.font=`${c}px "Courier New"`,M.textAlign="center",M.textBaseline="middle",M.fillText(e.text,o.x,o.y),M.restore()}),requestAnimationFrame(mt)}Qe();mt();window.addEventListener("resize",()=>{ye.width=window.innerWidth,ye.height=window.innerHeight,I.width=De.clientWidth,I.height=De.clientHeight});(()=>{console.log("ðŸš€ Loader.js starting...");const t=document.getElementById("loading-container");if(!t){console.error("âŒ Loading container not found!");return}if(console.log("âœ… Loading container found"),sessionStorage.getItem("loading-shown")==="true"){console.log("â­ï¸  Loading already shown this session, skipping..."),t.style.display="none";const d=document.getElementById("content-container");d&&(d.style.opacity="1"),document.body.classList.remove("loading-active");return}const n=document.getElementById("starfield-canvas"),e=document.getElementById("loading-particle-canvas"),o=document.getElementById("progress-bar"),a=document.getElementById("progress-text"),m=document.getElementById("progress-title"),c=document.getElementById("content-container");c&&(c.style.opacity="0"),document.body.classList.add("loading-active");let r=0,y=0,u=!1,C=!1,E=!1;const x=setTimeout(()=>{u=!0,b()},15e3);function b(){if(E)return;const d=y>=r||u;C&&d&&de()}window.addEventListener("stellar-loader:setAssetCount",d=>{const l=Number(d.detail);!Number.isNaN(l)&&l>=0&&(r=l,y>=r&&clearTimeout(x),b())}),window.addEventListener("stellar-loader:assetLoaded",()=>{y+=1,y>=r&&clearTimeout(x),b()}),t.addEventListener("dblclick",()=>{E||(console.log("âš¡ Loader skipped via double-click"),u=!0,C=!0,clearTimeout(x),o&&(o.style.width="100%"),m&&(m.textContent="SKIPPING..."),a&&(a.textContent="100%"),b())});const W=n.getContext("2d"),S=e.getContext("2d"),q=.15,R=["HELLO WORLD","I am a GAMER","I am a DEVELOPER","I am Homo Ludens","I am XIAO"];let O=0,X="",V=0,N=0,L=[],s=[],f=[],T=[];function G(){n.width=window.innerWidth,n.height=window.innerHeight,e.width=window.innerWidth,e.height=window.innerHeight,L=[],s=[],f=[],T=[],V=Math.max(40,e.width*q),N=0}G(),console.log("ðŸ“ Canvas dimensions:",e.width,"x",e.height),window.addEventListener("resize",()=>{G(),_(X),f=[],Ce(O)});class Q{constructor(){this.reset()}reset(){this.x=Math.random()*n.width,this.y=Math.random()*n.height,this.z=Math.random()*2e3,this.size=Math.random()*1.5+.5,this.opacity=Math.random()*.5+.3,this.twinkleSpeed=Math.random()*.02+.01,this.twinkleOffset=Math.random()*Math.PI*2}update(){this.z-=1,this.z<=0&&(this.reset(),this.z=2e3)}draw(l){const h=(this.x-n.width/2)*(1e3/this.z)+n.width/2,g=(this.y-n.height/2)*(1e3/this.z)+n.height/2,w=this.size*(1e3/this.z);if(h<0||h>n.width||g<0||g>n.height){this.reset();return}const ee=Math.sin(l*this.twinkleSpeed+this.twinkleOffset)*.3+.7,B=this.opacity*ee*(1e3/this.z);W.fillStyle=`rgba(0, 0, 0, ${B})`,W.fillRect(h,g,w,w)}}const pe=Array.from({length:200},()=>new Q);class ce{constructor(l,h,g,w){this.x=l,this.y=h,this.targetX=g,this.targetY=w,this.size=Math.random()*2+1,this.opacity=0,this.targetOpacity=1}update(){const l=this.targetX-this.x,h=this.targetY-this.y,g=.06;this.x+=l*g,this.y+=h*g,this.opacity<this.targetOpacity?this.opacity=Math.min(this.opacity+.02,this.targetOpacity):this.opacity>this.targetOpacity&&(this.opacity=Math.max(this.opacity-.02,this.targetOpacity))}draw(){S.fillStyle=`rgba(0, 0, 0, ${this.opacity})`,S.fillRect(this.x,this.y,this.size,this.size)}}function J(d,l={}){if(!d)return[];const h=Math.min(window.innerWidth/8,80);S.font=`bold ${h}px "Courier New", monospace`,S.textAlign="center",S.textBaseline="middle";const g=document.createElement("canvas"),w=g.getContext("2d"),B=S.measureText(d).width,k=h;g.width=B+40,g.height=k+40;const p=l.centerX??e.width/2,P=l.centerY??e.height/2,j=p-g.width/2,he=P-g.height/2;w.font=S.font,w.textAlign="center",w.textBaseline="middle",w.fillStyle="#fff",w.fillText(d,g.width/2,g.height/2);const H=w.getImageData(0,0,g.width,g.height),xe=[],Se=4;for(let ve=0;ve<g.height;ve+=Se)for(let ge=0;ge<g.width;ge+=Se){const Pe=(ve*g.width+ge)*4;if(H.data[Pe+3]>128){const Xe=j+ge,be=he+ve;xe.push({x:Xe,y:be})}}return xe}function _(d){X=d;const l=e.height/2,h=Math.max(40,e.width*q),g=Math.min(window.innerWidth/8,80);if(S.font=`bold ${g}px "Courier New", monospace`,!d){V=h,N=g*.2,L=[],s=[],f=[];return}let w=[],ee=h,B=g*.2;if(d==="I am"){const p=S.measureText("I").width,P=S.measureText("am").width,j=S.measureText("I ").width,H=Math.max(0,j-p)*.75,xe=J("I",{centerX:h+p/2,centerY:l});if(xe.length===0){V=h,N=H,L=[],s=[],f=[];return}const Se=Math.min(...xe.map(Y=>Y.x)),ve=h-Se,ge=xe.map(Y=>({x:Y.x+ve,y:Y.y})),Pe=Math.max(...ge.map(Y=>Y.x)),Oe=Pe+H,Xe=Oe+P/2,be=J("am",{centerX:Xe,centerY:l});if(be.length===0){V=Pe,N=H,L=[],s=[],f=[];return}const ft=Math.min(...be.map(Y=>Y.x)),_e=be.map(Y=>({x:Y.x+(Oe-ft),y:Y.y})),ut=Math.max(..._e.map(Y=>Y.x));w=ge.concat(_e),ee=ut,B=H}else{const p=J(d,{centerX:e.width/2,centerY:l});if(p.length===0){V=h,N=B,L=[],s=[],f=[];return}const P=Math.min(...p.map(H=>H.x)),j=Math.max(...p.map(H=>H.x)),he=h-P;w=p.map(H=>({x:H.x+he,y:H.y})),ee=j+he}L.length!==w.length?L=w.map(p=>{const P=new ce(e.width/2,e.height/2,p.x,p.y);return P.opacity=0,P.targetOpacity=1,P}):L.forEach((p,P)=>{const j=w[P];p.targetX=j.x,p.targetY=j.y,p.targetOpacity=1}),V=ee,N=B,f=[],s=[]}function we(){if(X!=="I am"){f=[],s=[];return}const d=e.height/2,l=J("a",{centerX:e.width/2,centerY:d});if(l.length===0){f=[],s=[];return}const h=Math.min(...l.map(k=>k.x)),g=Math.min(window.innerWidth/8,80),w=N>0?N:g*.2,B=V+w-h;f=l.map(k=>({x:k.x+B,y:k.y})),s.length!==f.length?s=f.map(k=>{const p=new ce(e.width/2,e.height/2,k.x,k.y);return p.opacity=0,p.targetOpacity=0,p}):s.forEach((k,p)=>{const P=f[p];k.targetX=P.x,k.targetY=P.y})}function Ie(d){if(X!=="I am"){s.forEach(l=>{l.targetOpacity=0});return}f.length===0&&we(),f.length!==0&&s.forEach((l,h)=>{const g=f[h];l.targetX=g.x,l.targetY=g.y,l.targetOpacity=d?1:0})}function Ce(d){if(d>=R.length)return;const l=R[d];let h="",g=!1;l.startsWith("I am a ")?(h="I am",g=!0):l.startsWith("I am ")&&(h="I am"),(h!==X||L.length===0)&&_(h),h==="I am"&&f.length===0&&we(),Ie(g);const w=g?7:h==="I am"?5:0,ee=w>0?l.slice(w).trimStart():l,B=J(ee,{centerX:e.width/2,centerY:e.height/2}),k=[];for(let p=0;p<B.length;p+=1){let P,j;p<T.length?(P=T[p].x,j=T[p].y):(P=e.width/2,j=e.height/2);const he=new ce(P,j,B[p].x,B[p].y);k.push(he)}for(let p=B.length;p<T.length;p+=1){const P=new ce(T[p].x,T[p].y,e.width/2,e.height/2);P.opacity=.5,k.push(P)}T=k,m&&(m.style.opacity="0",setTimeout(()=>{m.textContent=l,m.style.opacity="1"},250))}let Te=Date.now();const A=1500+500;let D=!0;function K(){if(!D)return;const l=Date.now()-Te,h=Math.min(Math.floor(l/A),R.length-1);h!==O&&(O=h,console.log("ðŸŽ¬ Showing title",h,":",R[h],"at",l.toFixed(0),"ms"),Ce(O)),W.fillStyle="rgba(255, 255, 255, 1)",W.fillRect(0,0,n.width,n.height),S.clearRect(0,0,e.width,e.height),pe.forEach(w=>{w.update(),w.draw(l*.001)}),L.forEach(w=>{w.update(),w.draw()}),s.forEach(w=>{w.update(),w.draw()}),T.forEach(w=>{w.update(),w.draw()});const g=Math.min(l/(A*R.length)*100,100);o&&(o.style.width=`${g}%`),a&&(a.textContent=`${Math.round(g)}%`,a.style.opacity="1"),g>=100&&!C&&(C=!0,b()),requestAnimationFrame(K)}function de(){if(E)return;E=!0,D=!1;const d=Date.now()-Te;console.log("âœ… Loader complete! Showing portfolio page at",d.toFixed(0),"ms"),sessionStorage.setItem("loading-shown","true"),t.style.transition="opacity 0.8s ease-out",t.style.opacity="0",c&&(c.style.transition="opacity 0.8s ease-in",c.style.opacity="1"),setTimeout(()=>{t.classList.add("hidden")},800)}_(X),console.log("ðŸŽ¬ Starting animation with title 0:",R[0]),Ce(0),K(),console.log("âœ¨ Animation loop started")})();
